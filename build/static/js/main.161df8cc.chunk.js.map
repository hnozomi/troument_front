{"version":3,"sources":["components/skill.js","components/User.js","components/Header.js","components/Toppage.js","components/Validation.js","components/Register.js","components/Login.js","components/Auth.js","components/Navigation.jsx","components/Display.js","components/editor-tool.js","components/FormButton.js","components/Form.js","components/Detail.js","components/Notify.js","components/Search.js","components/Mypage.js","components/Home.js","components/App.js","serviceWorker.js","index.js"],"names":["module","exports","map","name","id","isLoggedIn","get","LoggedUser","set","key","value","localStorage","setItem","getLocalStorage","ret","getItem","login","account","password","a","async","logout","Header","props","logoutUser","User","history","push","pathname","setState","errMessage","returnHome","bind","this","state","isHome","className","onClick","alt","src","to","React","Component","withRouter","Toppage","Validation","formValidate","type","title","length","tag","blocks","Register","submitCheck","validInput","validMessage","loading","input","message","isOpen","handleClose","createUser","event","preventDefault","Axios","post","user_name","then","response","data","catch","err","console","error","Error","target","style","position","color","fontSize","right","bottom","place","body","enterExitTransitionDurationMs","onChange","inputCheck","disabled","description","marginTop","descriptiontext","margin","Login","loginUser","log","isPassOpen","response_message","Auth","children","Navigation","todolists","Fragment","clickFormClose","postFormOpen","Display","userinfo","isGood","isMypage","isSearch","activePage","callDisplayDetail","handleGoodChange","goodCheck","worry_id","actionMethod","displayDetail","detail_todolist","user","goodlist","findIndex","good","_id","isGoodCheck","handleGoodCount","createDetail","isOpenDetail","size","round","thumbnail","status","createTime","time","ta","tag_key","count","isUpdateFormOpen","login_user","username","updateFormOpen","deleteDialogOpen","todolist","i","EDITOR_JS_TOOLS","embed","class","Embed","config","youtube","inlineToolbar","table","Table","paragraph","Paragraph","list","List","warning","Warning","titlePlaceholder","messagePlaceholder","code","Code","linkTool","LinkTool","endpoint","raw","Raw","header","placeholder","quote","Quote","quotePlaceholder","captionPlaceholder","marker","Marker","checklist","CheckList","delimiter","Delimiter","inlineCode","InlineCode","simpleImage","SimpleImage","FormButton","submit","startSending","togglePopover","setTimeout","endSending","handleOpen","tags","savedData","handleWorryUpdate","handleWorryAdd","handleResolveUpdate","handleResolveAdd","createButton","isFormOpen","resolveFormOpen","isResolveFormOpen","isStatus","canSubmit","Form","validSavedDataInput","validSavedDataMessage","validTagsInput","validTagsMessage","isSending","handleBlur","handleBlurTitle","saveEditor","editorInstance","save","worry","clickbutton","form","resolve","suggestions","changeInputText","slice","splice","concat","displayForm","top","instanceRef","instance","tools","enableReInitialize","sendMethod","onBlur","onDelete","handleDelete","onAddition","handleAddition","placeholderText","AxiosBase","create","baseURL","Detail","isDeleteDialogOpen","deleteDialogClose","getReadOnly","worryElements","document","getElementById","resolveElements","pointerEvents","e","tool","querySelectorAll","display","listDelete","handleTodolistsDelete","delete","onReady","holder","Dialog","open","onClose","aria-labelledby","aria-describedby","DialogTitle","DialogContent","DialogContentText","DialogActions","Button","autoFocus","Notify","Search","searchLists","searchWord","filterSearchWord","searchDisplay","filterList","filter","toString","toLowerCase","indexOf","text","searchResult","Mypage","worryListDisplay","resultLists","isActive","sendPicToS3","formData","FormData","append","croppedImageUrl","handleReload","isPicOpen","onSelectFile","files","reader","FileReader","addEventListener","result","readAsDataURL","onImageLoaded","image","imageRef","onCropComplete","crop","makeClientCrop","onCropChange","percentCrop","canSendPic","worryCount","resolveCount","userInfo","alltodolists","unit","width","aspect","resolveListDisplay","usefulListDisplay","getMypageTodolists","getTodoListCount","goodCount","param","params","reverse","height","getCroppedImg","fileName","canvas","createElement","scaleX","naturalWidth","scaleY","naturalHeight","getContext","drawImage","x","y","Promise","reject","toBlob","blob","window","URL","revokeObjectURL","fileUrl","createObjectURL","getTodolists","accept","Modal","CliskcPicClose","closeAfterTransition","BackdropComponent","Backdrop","BackdropProps","timeout","Fade","in","ruleOfThirds","onComplete","Home","setOpen","popover","gooStatusCheck","getUserinfo","shortid","require","generate","site","unshift","put","new_todolists","pop_open","Date","toLocaleString","goodDeleteCheck","goodAddCheck","CountUp","goodcheck","homeDisplay","CircularProgress","exact","path","render","loginuser","SearchList","App","Boolean","location","hostname","match","ReactDOM","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.161df8cc.chunk.js","sourcesContent":["const skill = \r\n['C', 'C#', 'C++', 'CoffeeScript', 'ECMAScript', 'Go', 'Java', 'NodeJS', 'PHP', 'Python', 'Ruby', 'Rust', 'Scala', 'Swift', 'Unity', 'TypeScript', 'JavaScript',\r\n 'Angular','ASP.NET','Backbone.js','Bootstrap','Bulma','Django','Laravel','React','Ruby on Rails','Silverstripe','Spring','UIKit','Vue.js',\r\n 'Apache','Nginx','HTML', 'CSS', 'UnrealEngine','GraphQL',\r\n 'MariaDB','MongoDB','MySQL','PostgreSQL','Redis','SQLite','jQuery','Semantic UI', 'TailWind CSS', 'Material-UI','VBA',\r\n 'Git', 'WordPress', 'Homebrew', 'npm', 'Yarn', 'Vscode', 'GitHub', 'Atom','AWS', 'Docker','Firebase','COBOL', 'Perl','Linux', 'GCP',\r\n]\r\n\r\n// ['HTML', 'CSS', 'JavaScript', 'React', 'Python', 'PHP', 'Ruby', 'Django', 'Vue', 'Ruby on rails', 'AWS', 'Docker', 'Go', 'Angular', 'Firebase', 'Vscode', 'C/C++', 'MySQL', 'C#', 'Java', 'VBA', 'VB.NET', 'COBOL', 'Perl', 'TypeScript', 'Kotlin', 'Scala', 'Swift', 'MariaDB', 'PostgreSQL', ]\r\n\r\nmodule.exports = skill.map((name, id) => ({ id, name }))","class User {\r\n    isLoggedIn = () => this.get('isLoggedIn') === 'true';\r\n\r\n    LoggedUser = () => this.get('account');\r\n  \r\n    set = (key, value) => localStorage.setItem(key, value);\r\n  \r\n    get = key => this.getLocalStorage(key);\r\n  \r\n    getLocalStorage = key => {\r\n      const ret = localStorage.getItem(key);\r\n      if (ret) {\r\n        return ret;\r\n      }\r\n      return null;\r\n    };\r\n  \r\n    login = async (account, password) => {\r\n\r\n      this.set('account', account);\r\n      this.set('isLoggedIn', true);\r\n      this.set('password', password);\r\n  \r\n      return true;\r\n    };\r\n  \r\n    logout = async () => {\r\n      if (this.isLoggedIn()) {\r\n        this.set('isLoggedIn', false);\r\n  \r\n      }\r\n    };\r\n  }\r\n  \r\n  export default new User();","import React from 'react';\r\nimport User from './User';\r\nimport { withRouter, Link } from \"react-router-dom\";\r\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\r\n\r\nimport './App.css'\r\n\r\nclass Header extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.returnHome = this.returnHome.bind(this)\r\n\r\n  }\r\n\r\n  logoutUser = async () => {\r\n    try {\r\n      await User.logout();\r\n      this.props.history.push({ pathname: '/Toppage' });\r\n    } catch (e) {\r\n      this.setState({ errMessage: 'ログアウト失敗しました' });\r\n    }\r\n  };\r\n\r\n  returnHome() {\r\n    this.props.history.push({\r\n      pathname: '/',\r\n      state: { isHome: true }\r\n  })\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <header>\r\n        <div className=\"header-wrapper\">\r\n          <img onClick={this.returnHome} alt=\"Headeraaa\" className=\"header-image\" src=\"/image/troument-logo.svg\" />\r\n          {User.isLoggedIn()\r\n            ?\r\n            <button className=\"logout-button\" onClick={this.logoutUser}>ログアウト\r\n              <ExitToAppIcon className=\"logout-button-icon\" />\r\n            </button>\r\n            : (<ul className=\"nav-wrapper\">\r\n              <li className=\"header-nav\"><Link to=\"/Register\">会員登録</Link></li>\r\n              <li className=\"header-nav\"><Link to=\"/Login\">ログイン</Link></li>\r\n            </ul>)\r\n          }\r\n        </div>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(Header);\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import React from 'react';\r\nimport './Toppage.css'\r\n\r\nclass Toppage extends React.Component {\r\n\r\n    render() {\r\n        return (\r\n\r\n                <div className=\"wrappers\">\r\n\r\n                    <div className=\"maintitle-wrapper wrapper-margin\">\r\n                        <h1 className=\"maintitle\">\r\n                            <p className=\"maintitle-text\">あなたが解決した</p>\r\n                            <p className=\"maintitle-text\">悩みが</p>\r\n                            <p className=\"maintitle-text\">誰かの役に立つ</p>\r\n                        </h1>\r\n                        <img alt=\"Toppage\" className=\"maintitle-image\" src=\"./image/toppage-main.svg\" />\r\n                    </div>\r\n\r\n                    <div className=\"about-troument wrapper-margin\">\r\n                        <h2 className=\"wrapper-title\">Troumentとは...</h2>\r\n                        <p className=\"about-troument-text\">エンジニアの人が勉強中に出てきた悩みを解決し</p>\r\n                        <p className=\"about-troument-text\">記録してみんなで共有するアプリです</p>\r\n                        <img alt=\"Arrow\" className=\"down-arrow-icon\" src=\"./image/down-arrow.svg\" />\r\n                    </div>\r\n\r\n                    <div className=\"todo-troument-wrapper wrapper-margin\">\r\n                        <h2 className=\"wrapper-title\">Troumentでできること</h2>\r\n                        <div className=\"todo-troument-content\">\r\n                            <p className=\"todo-troument-number\">1</p>\r\n                            <h3 className=\"todo-troument-head\">悩み投稿機能</h3>\r\n                            <p className=\"todo-troument-text\">どうやったら実現できるのだろう？</p>\r\n                            <p className=\"todo-troument-text\">なんでこうなるのだろう？</p>\r\n                            <p className=\"todo-troument-text\">など勉強していて悩んだことをメモ</p>\r\n                            <img alt=\"Worry\" className=\"todo-troument-image\" src=\"./image/toppage-1.svg\" />\r\n                        </div>\r\n\r\n                        <div className=\"todo-troument-content\">\r\n                            <p className=\"todo-troument-number\">2</p>\r\n                            <h3 className=\"todo-troument-head\">解決記録機能</h3>\r\n                            <p className=\"todo-troument-text\">わからなかったことが解決！</p>\r\n                            <p className=\"todo-troument-text\">どうやって解決したか記録しておき</p>\r\n                            <p className=\"todo-troument-text\">ナレッジを貯めていこう</p>\r\n                            <img alt=\"Resolve\" className=\"todo-troument-image\" src=\"./image/toppage-2.svg\" />\r\n                        </div>\r\n\r\n                        {/* <div className=\"todo-troument-content\">\r\n                            <p className=\"todo-troument-number\">3</p>\r\n                            <h3 className=\"todo-troument-head\">解決通知機能</h3>\r\n                            <p className=\"todo-troument-text\">「あの人の悩みが気になる... 」</p>\r\n                            <p className=\"todo-troument-text\">そんなときは気になるボタンを押しておくと解決したときに通知が来ます！</p>\r\n                            <img alt=\"Notify\" className=\"todo-troument-image\" src=\"./image/toppage-3.svg\" />\r\n                        </div> */}\r\n\r\n                        <div className=\"todo-troument-content\">\r\n                            <p className=\"todo-troument-number\">3</p>\r\n                            <h3 className=\"todo-troument-head\">検索機能</h3>\r\n                            <p className=\"todo-troument-text\">これはどうしたらいいのだろうか... </p>\r\n                            <p className=\"todo-troument-text\">そんなときは過去のナレッジを検索してみよう！</p>\r\n                            <img alt=\"Search\" className=\"todo-troument-image\" src=\"./image/toppage-4.svg\" />\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>\r\n\r\n        )\r\n    }\r\n\r\n}\r\n\r\nexport default Toppage;","const titleValidation = (title) => {\r\n  if (!title) return 'タイトルを入力してください';\r\n  if (title.length > 40) return 'タイトルは50文字以内で入力してください';\r\n\r\n  return '';\r\n};\r\n\r\nconst tagValidation = (tag) => {\r\n  if (tag.length === 0) return 'タグを入力してください';\r\n  if (tag.length > 5) return 'タグは5つまでしか登録できません';\r\n  return '';\r\n};\r\n\r\nconst savedDataValidation = (savedData) => {\r\n  if (savedData.blocks.length === 0) return '内容を入力してください';\r\n  return '';\r\n};\r\n\r\nconst accountValidation = (account) => {\r\n  if (!account) return '登録する名前を入力してください';\r\n  return '';\r\n};\r\n\r\nconst passwordValidation = (password) => {\r\n  if (!password) return 'パスワードを入力してください';\r\n  if (password.length < 4) return 'パスワードは4文字以上入力してください';\r\n  return '';\r\n};\r\n\r\n\r\nclass Validation {\r\n  static formValidate = (type, value) => {\r\n    switch (type) {\r\n      case 'title':\r\n        return titleValidation(value);\r\n      case 'tags':\r\n        return tagValidation(value);\r\n      case 'savedData':\r\n        return savedDataValidation(value);\r\n      case 'account':\r\n        return accountValidation(value);\r\n      case 'password':\r\n        return passwordValidation(value);\r\n      case 'others':\r\n        default:\r\n    }\r\n  };\r\n}\r\n\r\n\r\n\r\nexport default Validation;","import React from 'react';\r\nimport './Toppage.css'\r\nimport Validation from './Validation';\r\n// import AxiosBase from 'axios';\r\nimport Axios from 'axios';\r\nimport { withRouter } from \"react-router-dom\";\r\nimport Popover from \"react-popover\";\r\n\r\n\r\n// const Axios = AxiosBase.create({\r\n//   baseURL: \"https://troument-api.net\"\r\n// });\r\n\r\nclass Register extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      input: {\r\n        account: '',\r\n        password: '',\r\n      },\r\n\r\n      message: {\r\n        account: '',\r\n        password: '',\r\n      },\r\n      loading: false,\r\n      isOpen: false,\r\n    }\r\n    this.createUser = this.createUser.bind(this)\r\n  }\r\n\r\n  createUser(event) {\r\n    event.preventDefault();\r\n\r\n    // const url = constUrl + '/api/user_create'\r\n    Axios.post('/api/user_create', {\r\n      user_name: this.state.input.account,\r\n      password: this.state.input.password,\r\n    })\r\n      .then(response => {\r\n        if (response.data === '同一のアカウント名が存在します') {\r\n          this.setState({\r\n            isOpen: !this.state.isOpen,\r\n          })\r\n        } else {\r\n          this.props.history.push('/login')\r\n        }\r\n      })\r\n      .catch(err => {\r\n        console.error(new Error(err))\r\n      })\r\n  }\r\n\r\n  inputCheck(event) {\r\n    event.preventDefault();\r\n    const key = event.target.name;\r\n    const value = event.target.value;\r\n    const { input, message } = this.state;\r\n    this.setState({\r\n      input: {\r\n        ...input,\r\n        [key]: event.target.value\r\n      },\r\n      message: {\r\n        ...message,\r\n        [key]: Validation.formValidate(key, value)\r\n      }\r\n    });\r\n  };\r\n\r\n  submitCheck = () => {\r\n    let validInput;\r\n    let validMessage;\r\n    const { loading } = this.state;\r\n\r\n    if (this.state.input.account === '' | this.state.input.password === '') {\r\n      validInput = false\r\n    } else {\r\n      validInput = true\r\n    }\r\n\r\n    if (this.state.message.account !== \"\" | this.state.message.password !== \"\") {\r\n      validMessage = false\r\n    } else {\r\n      validMessage = true\r\n    }\r\n\r\n    return validInput && validMessage && !loading && !this.state.isOpen\r\n  };\r\n\r\n  handleClose = () => {\r\n    this.setState({\r\n      isOpen: false,\r\n    })\r\n  };\r\n\r\n\r\n//   clickHandle = () => {\r\n//     this.handleClose();\r\n//     this.setState({\r\n//       isOpen: false,\r\n//     })\r\n// };\r\n\r\n  render() {\r\n    const { input, message } = this.state;\r\n    return (\r\n\r\n      <div className=\"wrappers\">\r\n\r\n        <div>\r\n          <h1 className=\"create-account\">アカウントを作成</h1>\r\n          <form className=\"account-form\">\r\n            <div className=\"form-label-wrap\">\r\n              <section style={{ position: 'relative' }}>\r\n                <label className=\"account-form-label\">アカウント名<span className=\"form-span\">必須</span></label>\r\n                {message.account && (\r\n                  <span style={{ color: 'red', fontSize: 8, position: 'absolute', right: 0, bottom: 0 }}>{message.account}</span>\r\n                )}\r\n              </section>\r\n              <Popover\r\n                isOpen={this.state.isOpen}\r\n                place={'above'}\r\n                body={\r\n                  <div className=\"popover\">\r\n                  <p className=\"popover-text\">同一のアカウント名が存在します</p>\r\n                  <p className=\"popover-text\">別のにしてください</p>\r\n                  </div>\r\n                }\r\n                enterExitTransitionDurationMs={800}\r\n              >\r\n              <input className=\"form-input\"\r\n                type=\"text\"\r\n                name=\"account\"\r\n                value={this.state.input.account}\r\n                onChange={event => this.inputCheck(event)}\r\n                onClick={this.handleClose}\r\n              ></input>\r\n              </Popover>\r\n              <span className=\"account-form-bg\"></span>\r\n            </div>\r\n            <div className=\"form-label-wrap\">\r\n              <label className=\"account-form-label\">パスワード<span className=\"form-span\">必須</span></label>\r\n              <section style={{ position: 'relative' }}>\r\n                {message.password && (\r\n                  <span style={{ color: 'red', fontSize: 8, position: 'absolute', right: 0, bottom: 0 }}>{message.password}</span>\r\n                )}\r\n              </section>\r\n              <input className=\"form-input\"\r\n                type=\"text\"\r\n                name=\"password\"\r\n                value={this.state.input.password}\r\n                onChange={event => this.inputCheck(event)}\r\n              >\r\n              </input>\r\n              <span className=\"account-form-bg\"></span>\r\n            </div>\r\n            <button className=\"register-button\"\r\n              type=\"submit\"\r\n              disabled={!this.submitCheck()}\r\n              onClick={this.createUser}\r\n            >\r\n              登録\r\n            </button>\r\n          </form>\r\n        </div>\r\n\r\n      </div >\r\n\r\n\r\n\r\n\r\n    )\r\n  }\r\n\r\n\r\n}\r\n\r\n\r\nexport default withRouter(Register);\r\n","import React from 'react';\r\nimport './Toppage.css'\r\nimport Validation from './Validation';\r\nimport User from './User';\r\nimport Axios from 'axios';\r\n// import AxiosBase from 'axios';\r\nimport { withRouter, Link } from \"react-router-dom\";\r\nimport Popover from \"react-popover\";\r\n// import Popover from '@material-ui/core/Popover';\r\n\r\nconst description = {\r\n    marginTop: 20,\r\n    fontSize: 12,\r\n}\r\n\r\nconst descriptiontext = {\r\n    margin: 0\r\n}\r\n\r\n\r\n// const Axios = AxiosBase.create({\r\n//     baseURL: \"https://troument-api.net\"\r\n// });\r\n\r\nclass Login extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            input: {\r\n                account: '',\r\n                password: '',\r\n            },\r\n\r\n            message: {\r\n                account: '',\r\n                password: '',\r\n            },\r\n            loading: false,\r\n            isOpen: false,\r\n            isPassOpen: false\r\n        }\r\n        this.loginUser = this.loginUser.bind(this)\r\n    }\r\n\r\n    loginUser = async (event) => {\r\n        console.log('ログイン実行されました')\r\n        event.preventDefault();\r\n        // const params = {\r\n        //     user_name: this.state.input.account,\r\n        //     password: this.state.input.password,\r\n        // }\r\n        Axios.post('/api/user_login', {\r\n            // params: params,\r\n            user_name: this.state.input.account,\r\n            password: this.state.input.password,\r\n        })\r\n            .then(response => {\r\n                console.log(response.data, 'responseが返ってきました')\r\n                if (typeof (response.data) === 'string') {\r\n                    if (response.data === 'パスワードが一致していません') {\r\n                        this.setState({\r\n                            isPassOpen: !this.state.isOpen,\r\n                            response_message: response.data\r\n                        })\r\n                    } else {\r\n                        this.setState({\r\n                            isOpen: !this.state.isOpen,\r\n                            response_message: response.data\r\n                        })\r\n\r\n                    }\r\n                } else {\r\n                    User.login(this.state.input.account, this.state.input.password);\r\n                    this.props.history.push({\r\n                        pathname: '/'\r\n                    })\r\n                }\r\n            })\r\n            .catch(err => {\r\n                console.error(new Error(err))\r\n            })\r\n    }\r\n\r\n    inputCheck(event) {\r\n        event.preventDefault();\r\n        const key = event.target.name;\r\n        const value = event.target.value;\r\n        const { input, message } = this.state;\r\n        this.setState({\r\n            input: {\r\n                ...input,\r\n                [key]: event.target.value\r\n            },\r\n            message: {\r\n                ...message,\r\n                [key]: Validation.formValidate(key, value)\r\n            }\r\n        });\r\n    };\r\n\r\n    submitCheck = () => {\r\n        let validInput;\r\n        let validMessage;\r\n        const { loading } = this.state;\r\n\r\n        if (this.state.input.account === '' | this.state.input.password === '') {\r\n            validInput = false\r\n        } else {\r\n            validInput = true\r\n        }\r\n\r\n        if (this.state.message.account !== \"\" | this.state.message.password !== \"\") {\r\n            validMessage = false\r\n        } else {\r\n            validMessage = true\r\n        }\r\n\r\n        return validInput && validMessage && !loading && !this.state.isOpen\r\n    };\r\n\r\n    handleClose = () => {\r\n        this.setState({\r\n            isOpen: false,\r\n            isPassOpen: false,\r\n        })\r\n    };\r\n\r\n    render() {\r\n        const { input, message } = this.state;\r\n        return (\r\n\r\n            <div className=\"wrappers\">\r\n                {/* <div> */}\r\n                <h1 className=\"login\">ログイン</h1>\r\n\r\n                <form className=\"account-form\">\r\n                    <div className=\"form-label-wrap\">\r\n                        <label className=\"account-form-label\">アカウント名<span className=\"form-span\">必須</span></label>\r\n                        <Popover\r\n                            isOpen={this.state.isOpen}\r\n                            place={'above'}\r\n                            body={\r\n                                <div className=\"popover\">\r\n                                    <p className=\"popover-text\">{this.state.response_message}</p>\r\n                                </div>\r\n                            }\r\n                            enterExitTransitionDurationMs={800}\r\n                        >\r\n                            <input className=\"form-input\"\r\n                                type=\"text\"\r\n                                name=\"account\"\r\n                                value={this.state.input.account}\r\n                                onChange={event => this.inputCheck(event)}\r\n                                onClick={this.handleClose}\r\n                            ></input>\r\n                        </Popover>\r\n                        <span className=\"account-form-bg\"></span>\r\n                    </div>\r\n                    <div className=\"form-label-wrap\">\r\n                        <label className=\"account-form-label\">パスワード<span className=\"form-span\">必須</span></label>\r\n                        <section style={{ position: 'relative' }}>\r\n                            {message.password && (\r\n                                <span style={{ color: 'red', fontSize: 8, position: 'absolute', right: 0, bottom: 0 }}>{message.password}</span>\r\n                            )}\r\n                        </section>\r\n                        <Popover\r\n                            isOpen={this.state.isPassOpen}\r\n                            place={'above'}\r\n                            body={\r\n                                <div className=\"popover\">\r\n                                    <p className=\"popover-text\">{this.state.response_message}</p>\r\n                                </div>\r\n                            }\r\n                            enterExitTransitionDurationMs={800}\r\n                        >\r\n                            <input className=\"form-input\"\r\n                                type=\"text\"\r\n                                name=\"password\"\r\n                                value={this.state.input.password}\r\n                                onChange={event => this.inputCheck(event)}\r\n                                onClick={this.handleClose}\r\n                            ></input>\r\n                        </Popover>\r\n                        <span className=\"account-form-bg\"></span>\r\n                    </div>\r\n                    <button className=\"login-button\"\r\n                        type=\"submit\"\r\n                        disabled={!this.submitCheck()}\r\n                        onClick={this.loginUser}\r\n                    >ログイン</button>\r\n                </form>\r\n                <div style={description}>\r\n                    <p style={descriptiontext}>アカウントは持っていますか？</p>\r\n                    <p style={descriptiontext}>まだの方はこちらから登録お願いします ⇨ <Link to=\"/Register\">会員登録</Link></p>\r\n                </div>\r\n                {/* </div> */}\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(Login);\r\n","import React from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport User from './User';\r\n\r\n\r\nconst Auth = props =>\r\n  User.isLoggedIn() ? props.children : <Redirect to={'/Toppage'} />;\r\n\r\n  \r\nexport default Auth;\r\n","import React from 'react';\r\nimport { Link } from \"react-router-dom\";\r\n\r\nclass Navigation extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      todolists: this.props.todolists\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n        <React.Fragment>\r\n        <nav className=\"navigation\">\r\n          <ul className=\"nav-items\">\r\n            <li className=\"nav-item\" onClick={() => { this.props.clickFormClose() }}><Link to=\"/\"><img src=\"/icon/home2.svg\" className=\"nav-item-icon nav-item-home\" alt=\"\" /><span className=\"nav-item-text\">ホーム</span></Link></li>\r\n            <li className=\"nav-item\" onClick={() => { this.props.postFormOpen() }}><Link to=\"/\"><img className=\"nav-item-icon nav-item-post\" alt=\"\" src=\"/icon/test1.svg\" /><span className=\"nav-item-text\">投稿</span></Link></li>\r\n            <li className=\"nav-item\"><Link to=\"/Search\"><img className=\"nav-item-icon nav-item-search\" alt=\"\" src=\"/icon/search.svg\" /><span className=\"nav-item-text\">検索</span></Link></li>\r\n            {/* <li className=\"nav-item\"><Link to=\"/Notify\"><img className=\"nav-item-icon nav-item-bell\" alt=\"\" src=\"/icon/bell.svg\" /><span className=\"nav-item-text\">通知</span></Link></li> */}\r\n            <li className=\"nav-item\"><Link to=\"/Mypage\"><img className=\"nav-item-icon nav-item-person\" alt=\"\" src=\"/icon/person.svg\" /><span className=\"nav-item-text\">マイページ</span></Link></li>\r\n          </ul>\r\n        </nav>\r\n        </React.Fragment>\r\n\r\n    );\r\n  }\r\n}\r\n\r\nexport default Navigation;","import React from 'react';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport { withRouter } from \"react-router-dom\";\r\nimport Avatar from 'react-avatar';\r\n\r\nimport Pagination from \"react-js-pagination\";\r\n\r\nimport ThumbUpIcon from '@material-ui/icons/ThumbUp';\r\nimport ThumbUpAltOutlinedIcon from '@material-ui/icons/ThumbUpAltOutlined';\r\n\r\n\r\n// ****************************************************************///\r\n//  Todolistsの表示\r\n// ****************************************************************///\r\n\r\nclass Display extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      todolists: this.props.todolists,\r\n      userinfo: this.props.userinfo,\r\n      isGood: false,\r\n      isMypage: this.props.isMypage,\r\n      isSearch: this.props.isSearch,\r\n      activePage: 15\r\n    }\r\n    this.callDisplayDetail = this.callDisplayDetail.bind(this)\r\n    this.handleGoodChange = this.handleGoodChange.bind(this)\r\n    this.goodCheck = this.goodCheck.bind(this)\r\n  }\r\n\r\n  // ****************************************************************///\r\n  // Detailを表示する\r\n  // ****************************************************************///\r\n\r\n  callDisplayDetail(worry_id) {\r\n    this.props.history.push({\r\n      pathname: '/'\r\n    })\r\n    this.props.actionMethod.displayDetail(worry_id)\r\n  }\r\n\r\n\r\n\r\n  // ****************************************************************///\r\n  // 詳細を取得\r\n  // ****************************************************************///\r\n\r\n  componentDidMount() {\r\n    this.goodCheck()\r\n  }\r\n\r\n\r\n  // ****************************************************************///\r\n  // グッドをしたことがあるかチェック\r\n  // ****************************************************************///\r\n\r\n  async goodCheck() {\r\n\r\n    if (this.props.detail_todolist) {\r\n\r\n      const goodcheck =\r\n        this.props.detail_todolist.user.goodlist.findIndex((good) => {\r\n          return good === this.props.detail_todolist._id\r\n        })\r\n\r\n      if (goodcheck === -1) {\r\n        this.setState(\r\n          {\r\n            isGood: false,\r\n            isGoodCheck: true\r\n          }\r\n        )\r\n      } else {\r\n        this.setState(\r\n          {\r\n            isGood: true,\r\n            isGoodCheck: true\r\n          }\r\n        )\r\n\r\n      }\r\n\r\n    }\r\n  }\r\n\r\n\r\n  // ****************************************************************///\r\n  // goodしているか判定\r\n  // ****************************************************************///\r\n  async handleGoodChange() {\r\n    this.setState((state => {\r\n      return {\r\n        isGood: !this.state.isGood\r\n      }\r\n    }), () => this.props.actionMethod.handleGoodCount(this.props._id, !this.state.isGood)\r\n    )\r\n  }\r\n\r\n  // ****************************************************************///\r\n  // render  \r\n  // ****************************************************************///\r\n\r\n  render() {\r\n    let createDetail;\r\n\r\n    if (this.props.isOpenDetail) {\r\n      createDetail = (\r\n        <div className={\"contents-wrappers \" + (this.state.isMypage ? \"mypage-diplay-wrapper\" : '')}>\r\n          <div className=\"contents-wrapper\">\r\n            <div className=\"content-icon-wrap\">\r\n              <Avatar size={\"50px\"} round={\"10px\"} className=\"content-icon\" src={\"https://troument.s3-ap-northeast-1.amazonaws.com/\" + this.props.detail_todolist.user.thumbnail} alt=\"\" />\r\n              {/* <Avatar size={\"50px\"} round={\"10px\"} className=\"content-icon\" src={\"https://troument.s3-ap-northeast-1.amazonaws.com/\" + this.props.thumbnail} alt=\"\" /> */}\r\n            </div>\r\n            <div className=\"content-wrapper\">\r\n              <div className=\"content-image-time\">\r\n                {this.props.detail_todolist.status\r\n                  ? <img className=\"content-image display-title-hukidasi\" src=\"/image/resolve.svg\" alt=\"\" />\r\n                  : <img className=\"content-image display-title-hukidasi\" src=\"/image/worry.svg\" alt=\"\" />}\r\n                <span className=\"content-time\">{this.props.actionMethod.createTime(this.props.detail_todolist.time)}</span>\r\n              </div>\r\n\r\n              <div className=\"content-text-tag\">\r\n                <p className=\"content-text\">{this.props.detail_todolist.title}</p>\r\n                {this.props.detail_todolist.tag && this.props.detail_todolist.tag.map((ta, tag_key) => {\r\n                  return <p key={tag_key} className=\"react-tags__display-tag\">{ta.name}</p>\r\n                })}\r\n              </div>\r\n              {this.props.detail_todolist.status &&\r\n                <p className=\"content-count\">{this.props.detail_todolist.count}人が感謝しています</p>\r\n              }\r\n            </div>\r\n          </div>\r\n          {\r\n            !this.props.isUpdateFormOpen && \r\n              (\r\n                <div className=\"content-button-wrapper\">\r\n\r\n                  {this.props.detail_todolist.status && (\r\n                    this.state.isGood\r\n                      ? <button className=\"content-button\" onClick={this.handleGoodChange}>参考になった\r\n                              <ThumbUpIcon className=\"content-button-icon\" style={{ fontSize: 18 }} />\r\n                      </button>\r\n                      : <button className=\"content-button\" onClick={this.handleGoodChange}>参考になった\r\n                              <ThumbUpAltOutlinedIcon className=\"content-button-icon\" style={{ fontSize: 18 }} />\r\n                      </button>\r\n\r\n                  )}\r\n\r\n                  {this.props.login_user === this.props.detail_todolist.username &&\r\n                    <div className=\"content-edit-button\">\r\n                      <button className=\"content-button\" onClick={this.props.actionMethod.updateFormOpen}>編集\r\n                            <EditIcon className=\"content-button-icon\" style={{ fontSize: 18 }} />\r\n                      </button>\r\n                      <button className=\"content-button\" onClick={this.props.deleteDialogOpen}>\r\n                        <span className=\"content-button-text\">削除</span>\r\n                        <DeleteIcon className=\"content-button-icon\" style={{ fontSize: 18 }} />\r\n                      </button>\r\n                    </div>\r\n                  }\r\n                </div>\r\n              )\r\n\r\n\r\n          }\r\n        </div >\r\n\r\n      )\r\n    } else {\r\n\r\n      createDetail = (\r\n        <React.Fragment>\r\n          {\r\n            this.props.todolists.map((todolist, i) => {\r\n              return <div key={i} className={\"contents-wrappers \" + (this.state.isSearch ? 'search-contents-wrappers' : this.state.isMypage ? 'mypage-contents-wrappers' : '')}>\r\n                <div onClick={() => { this.callDisplayDetail(todolist.worry_id) }} className=\"contents-wrapper\">\r\n\r\n                  <div className=\"content-icon-wrap\">\r\n                  {/* <Tooltip title=\"Add\" placement=\"top-end\"> */}\r\n                    <Avatar size={\"50px\"} round={\"10px\"} src={\"https://troument.s3-ap-northeast-1.amazonaws.com/\" + todolist.user.thumbnail} alt=\"\" />\r\n                    {/* </Tooltip> */}\r\n                  </div>\r\n\r\n                  <div className=\"content-wrapper\">\r\n                    <div className=\"content-image-time\">\r\n                      {todolist.status ? <img className=\"content-image display-title-hukidasi\" src=\"/image/resolve.svg\" alt=\"\" /> : <img className=\"dcontent-image display-title-hukidasi\" src=\"/image/worry.svg\" alt=\"\" />}\r\n                      <span className=\"content-time\">{this.props.actionMethod.createTime(todolist.time)}</span>\r\n                    </div>\r\n\r\n\r\n                    <div className=\"content-text-tag\">\r\n                      <p className=\"content-text\">{todolist.title}</p>\r\n                      {todolist.tag && todolist.tag.map((ta, key) => {\r\n                        return <p key={key} className=\"react-tags__display-tag\">{ta.name}</p>\r\n                      })}\r\n\r\n                    </div>\r\n\r\n                    {todolist.status\r\n                      ? <p className=\"content-count\">{todolist.count}人が感謝しています</p>\r\n                      : <p className=\"content-count\">悩み中...　応援してください</p>\r\n                    }\r\n                  </div>\r\n\r\n                </div>\r\n\r\n              </div>\r\n            })\r\n          }\r\n        </React.Fragment>\r\n      )\r\n\r\n    }\r\n\r\n\r\n\r\n    return (\r\n      <React.Fragment>\r\n        {createDetail}\r\n      </React.Fragment>\r\n    );\r\n\r\n\r\n  }\r\n\r\n}\r\n\r\nexport default withRouter(Display);","import Embed from '@editorjs/embed'\r\nimport Table from '@editorjs/table'\r\nimport Paragraph from '@editorjs/paragraph'\r\nimport List from '@editorjs/list'\r\nimport Warning from '@editorjs/warning'\r\nimport Code from '@editorjs/code'\r\nimport LinkTool from '@editorjs/link'\r\nimport Image from '@editorjs/image'\r\nimport Raw from '@editorjs/raw'\r\nimport Header from '@editorjs/header'\r\nimport Quote from '@editorjs/quote'\r\nimport Marker from '@editorjs/marker'\r\nimport CheckList from '@editorjs/checklist'\r\nimport Delimiter from '@editorjs/delimiter'\r\nimport InlineCode from '@editorjs/inline-code'\r\nimport SimpleImage from '@editorjs/simple-image'\r\n\r\nexport const EDITOR_JS_TOOLS = {\r\n    embed: {\r\n        class: Embed,\r\n        config: {\r\n            youtube: true,\r\n        },\r\n        inlineToolbar: true\r\n    },\r\n    table: {\r\n        class: Table,\r\n        inlineToolbar: true,\r\n    },\r\n    paragraph: {\r\n        class: Paragraph,\r\n        inlineToolbar: true,\r\n        // config: {\r\n        //     placeholder: \"ここに入力してください\",\r\n        // }\r\n    },\r\n    list: {\r\n        class: List,\r\n        inlineToolbar: true\r\n    },\r\n    warning: {\r\n        class: Warning,\r\n        inlineToolbar: true,\r\n        config: {\r\n            titlePlaceholder: 'Title',\r\n            messagePlaceholder: 'Message',\r\n        },\r\n    },\r\n    code: {\r\n        class: Code,\r\n    },\r\n    linkTool: {\r\n        class: LinkTool,\r\n        inlineToolbar: true,\r\n        config: {\r\n            endpoint: 'http://localhost:8008/fetchUrl', // Your backend endpoint for url data fetching\r\n        }\r\n    },\r\n    // image: Image,\r\n    raw: {\r\n        class: Raw,\r\n        inlineToolbar: true,\r\n    },\r\n    header: {\r\n        class: Header,\r\n        config: {\r\n            placeholder: 'Enter a header',\r\n        },\r\n        inlineToolbar: true,\r\n    },\r\n    quote: {\r\n        class: Quote,\r\n        inlineToolbar: true,\r\n        config: {\r\n            quotePlaceholder: '引用する',\r\n            captionPlaceholder: '筆者 or 引用元',\r\n        },\r\n    },\r\n    marker: Marker,\r\n    checklist: {\r\n        class: CheckList,\r\n        inlineToolbar: true,\r\n    },\r\n\r\n    delimiter: {\r\n        class: Delimiter,\r\n        inlineToolbar: true,\r\n    },\r\n    inlineCode: {\r\n        class: InlineCode,\r\n        inlineToolbar: true,\r\n    },\r\n    simpleImage: {\r\n        class: SimpleImage,\r\n        inlineToolbar: true,\r\n    },\r\n}","import React from 'react';\r\nimport Popover from \"react-popover\";\r\nimport './App.css'\r\n\r\nclass FormButton extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isOpen: false,\r\n      detail_todolist: this.props.detail_todolist || ''\r\n    }\r\n    this.togglePopover = this.togglePopover.bind(this)\r\n  }\r\n\r\n  // ****************************************************************///\r\n  // 詳細を取得\r\n  // ****************************************************************///\r\n\r\n  async togglePopover() {\r\n    let title = this.props.title\r\n    let tags = this.props.tags\r\n    let savedData = this.props.savedData\r\n    const { handleWorryUpdate, handleWorryAdd, handleResolveUpdate, handleResolveAdd } = this.props.actionMethod || ''\r\n    this.setState(\r\n      {\r\n        isOpen: !this.state.isOpen,\r\n      }\r\n    );\r\n\r\n    this.props.isUpdateFormOpen\r\n      ? (this.state.detail_todolist.status\r\n        ? await handleResolveUpdate(savedData)\r\n        : await handleWorryUpdate(title, tags, savedData)\r\n      )\r\n\r\n      : (this.props.isOpenDetail\r\n        ? await handleResolveAdd(savedData)\r\n        : await handleWorryAdd(title, tags, savedData)\r\n      )\r\n\r\n  };\r\n\r\n  // ****************************************************************///\r\n  // 投稿ボタンが押されたとき\r\n  // ****************************************************************///\r\n\r\n  submit = async(event) => {\r\n    event.preventDefault();\r\n\r\n    this.props.startSending()\r\n    await this.togglePopover()\r\n    setTimeout(this.props.endSending, 1000)\r\n    this.props.handleOpen()\r\n    setTimeout(this.props.handleClose, 1500)\r\n  }\r\n\r\n  // ****************************************************************///\r\n  // render\r\n  // ****************************************************************///\r\n\r\n  render() {\r\n    let createButton;\r\n    const { clickFormClose } = this.props.actionMethod || ''\r\n\r\n    if (this.props.isOpenDetail && !this.props.isFormOpen) {\r\n      if (this.props.login_user === this.props.detail_todolist.username) {\r\n        createButton = (\r\n          <div className=\"button-wrapper\">\r\n            <button onClick={this.props.actionMethod.resolveFormOpen} className=\"button\">解決投稿</button>\r\n          </div>\r\n        );\r\n      }\r\n    } else {\r\n      createButton = (\r\n        <div className=\"button-wrapper\">\r\n          <button onClick={clickFormClose} className=\"first-button button\">キャンセル</button>\r\n          <Popover\r\n            isOpen={this.state.isOpen}\r\n            body={\r\n              this.props.isResolveFormOpen\r\n                ? (this.props.handleResolveUpdate\r\n                  ? <div className=\"popover\"><p className=\"popover-text\">修正が完了しました！</p><p className=\"popover-text\">その調子！</p></div>\r\n                  : <div className=\"popover\"><p className=\"popover-text\">お疲れ様です！</p><p className=\"popover-text\">その調子！</p></div>)\r\n                : (this.props.handleWorryUpdate)\r\n                  ? (<div className=\"popover\"><p className=\"popover-text\">修正が完了しました</p><p className=\"popover-text\">頑張れー！</p></div>)\r\n                  : (<div className=\"popover\"><p className=\"popover-text\">頑張ってください！</p><p className=\"popover-text\">応援しています！</p></div>)\r\n\r\n            }\r\n            place={'above'}\r\n            enterExitTransitionDurationMs={800}\r\n          >\r\n            {\r\n              this.props.isStatus\r\n                ? <button disabled={!this.props.canSubmit()} onClick={this.submit} type=\"submit\" className=\"button\">投稿</button>\r\n                // : <button onClick={this.submit} type=\"submit\" className=\"button\">投稿</button>\r\n                : <button disabled={!this.props.canSubmit()} onClick={this.submit} type=\"submit\" className=\"button\">投稿</button>\r\n            }\r\n          </Popover>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    // }\r\n\r\n    return (\r\n      <React.Fragment>\r\n        {createButton}\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default FormButton;","import React from 'react';\r\nimport Validation from './Validation';\r\nimport EditorJs from 'react-editor-js';\r\nimport { EDITOR_JS_TOOLS } from \"./editor-tool\";\r\n\r\nimport ReactTags from 'react-tag-autocomplete'\r\nimport suggestions from './skill'\r\nimport FormButton from './FormButton';\r\n\r\n\r\nclass Form extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    const { detail_todolist = '' } = this.props\r\n    const { title = '', tag = '', worry = '', status = '' } = detail_todolist\r\n\r\n    this.state = {\r\n      clickbutton: false,\r\n      form: true,\r\n      input: {\r\n        title: title,\r\n      },\r\n      message: {\r\n        title: '',\r\n        tag: '',\r\n        worry: '',\r\n        resolve: '',\r\n        savedData: ''\r\n      },\r\n      isSending: false,\r\n      tags: tag || [],\r\n      savedData: worry,\r\n      status: status,\r\n      suggestions,\r\n    }\r\n    this.changeInputText = this.changeInputText.bind(this)\r\n    this.saveEditor = this.saveEditor.bind(this)\r\n    this.canSubmit = this.canSubmit.bind(this)\r\n    this.startSending = this.startSending.bind(this)\r\n    this.endSending = this.endSending.bind(this)\r\n  }\r\n\r\n  // ****************************************************************///\r\n  // Formに入力されてる文字を反映\r\n  // ****************************************************************///\r\n\r\n  changeInputText(event) {\r\n    event.preventDefault();\r\n    const key = event.target.name;\r\n    const value = event.target.value;\r\n    const { input, message } = this.state;\r\n    this.setState({\r\n      input: {\r\n        ...input,\r\n        [key]: event.target.value\r\n      },\r\n      message: {\r\n        ...message,\r\n        [key]: Validation.formValidate(key, value)\r\n      }\r\n    });\r\n  };\r\n\r\n  // ****************************************************************///\r\n  // Validation\r\n  // ****************************************************************///\r\n\r\n  canSubmit = () => {\r\n    let validInput;\r\n    let validMessage;\r\n    let validSavedDataInput\r\n    let validSavedDataMessage\r\n    let validTagsInput\r\n    let validTagsMessage\r\n    const { isSending } = this.state;\r\n    \r\n    \r\n    if (this.state.input.title === '') {\r\n      validInput = false\r\n    } else {\r\n      validInput = true\r\n    }\r\n\r\n    if (this.state.message.title !== \"\") {\r\n      validMessage = false\r\n    } else {\r\n      validMessage = true\r\n    }\r\n\r\n    if (this.state.tags.length === 0) {\r\n      validTagsInput = false\r\n    } else {\r\n      validTagsInput = true\r\n    }\r\n\r\n    if (this.state.message.tag !== \"\") {\r\n      validTagsMessage = false\r\n    } else {\r\n      validTagsMessage = true\r\n    }\r\n    \r\n    if (this.state.savedData === '' || this.state.savedData.blocks.length === 0) {\r\n      validSavedDataInput = false\r\n    } else {\r\n      validSavedDataInput = true\r\n    }\r\n\r\n    if (this.state.message.savedData !== \"\") {\r\n      validSavedDataMessage = false\r\n    } else {\r\n      validSavedDataMessage = true\r\n    }\r\n\r\n    return validInput && validMessage && \r\n           validSavedDataInput && validSavedDataMessage &&\r\n           validTagsInput && validTagsMessage &&\r\n           !isSending\r\n  };\r\n\r\n\r\n  // ****************************************************************///\r\n  // 送信が完了するのを待つ\r\n  // ****************************************************************///\r\n\r\n  startSending = () => {\r\n    this.setState({\r\n      isSending: true\r\n    })\r\n  }\r\n\r\n  endSending() {\r\n    this.setState({\r\n      isSending: false\r\n    })\r\n  }\r\n\r\n  // ****************************************************************///\r\n  // タグの操作\r\n  // ****************************************************************///\r\n\r\n\r\n  handleDelete(i) {\r\n    const tags = this.state.tags.slice(0)\r\n    const { message } = this.state;\r\n    tags.splice(i, 1)\r\n    this.setState({\r\n      message: {\r\n        ...message,\r\n        tag: Validation.formValidate('tags', tags)\r\n      },\r\n      tags: tags\r\n    })\r\n  }\r\n\r\n\r\n  handleAddition(tag) {\r\n    const tags = [].concat(this.state.tags, tag)\r\n    const { message } = this.state;\r\n    this.setState({\r\n      message: {\r\n        ...message,\r\n        tag: Validation.formValidate('tags', tags)\r\n      },\r\n      tags: tags\r\n    })\r\n  }\r\n\r\n  handleBlur = () => {\r\n    const { message } = this.state;\r\n    this.setState({\r\n      message: {\r\n        ...message,\r\n        tag: Validation.formValidate('tags', this.state.tags)\r\n      },\r\n    })\r\n  }\r\n\r\n  handleBlurTitle = (event) => {\r\n    const key = event.target.name;\r\n    const value = event.target.value;\r\n    const { message } = this.state;\r\n    this.setState({\r\n      message: {\r\n        ...message,\r\n        [key]: Validation.formValidate(key, value)\r\n      },\r\n    })\r\n  }\r\n\r\n\r\n  // ****************************************************************///\r\n  // Editorの保存\r\n  // ****************************************************************///\r\n  \r\n  \r\n  saveEditor = async () => {\r\n    const { message } = this.state;\r\n    let savedData = await this.editorInstance.save()\r\n    this.setState({\r\n      message: {\r\n        ...message,\r\n        savedData: Validation.formValidate('savedData', savedData)\r\n      },\r\n      savedData: savedData\r\n    })\r\n    \r\n  }\r\n\r\n\r\n\r\n  // ****************************************************************///\r\n  // render\r\n  // ****************************************************************///\r\n\r\n\r\n  render() {\r\n    let displayForm\r\n    const { input, message, status } = this.state;\r\n    // {this.props.detail_todolist && console.log(this.props.detail_todolist.resolve)}\r\n\r\n    if (status || this.props.isResolveFormOpen) {\r\n      displayForm = (\r\n        <form className=\"form-wrapper\">\r\n          <section className=\"form-wrapper-sec\" style={{ position: 'relative' }}>\r\n            <label>どうやって解決しましたか</label>\r\n            {message.savedData && (\r\n              <span style={{ color: 'red', fontSize: 8, position: 'absolute', right: 0, top: 3 }}>{message.savedData}</span>\r\n            )}\r\n          </section>\r\n          <div className=\"resolvetest\">\r\n            {this.props.detail_todolist\r\n              ? <EditorJs onChange={this.saveEditor} instanceRef={instance => this.editorInstance = instance} data={this.props.detail_todolist.resolve} tools={EDITOR_JS_TOOLS} enableReInitialize={false} />\r\n              // ? <EditorJs onChange={this.saveEditor} instanceRef={instance => this.editorInstance = instance} data={this.props.data_resolve} tools={EDITOR_JS_TOOLS} enableReInitialize={false} />\r\n              : <EditorJs onChange={this.saveEditor} instanceRef={instance => this.editorInstance = instance} tools={EDITOR_JS_TOOLS} enableReInitialize={false} />\r\n            }\r\n\r\n            <FormButton\r\n              {...this.props}\r\n              isFormOpen={this.props.isFormOpen}\r\n              savedData={this.state.savedData}\r\n              sendMethod={this.sendMethod}\r\n\r\n              canSubmit={this.canSubmit}\r\n              startSending={this.startSending}\r\n              endSending={this.endSending}\r\n            />\r\n          </div>\r\n        </form>\r\n      )\r\n    } else {\r\n      displayForm = (\r\n        <form className=\"form-wrapper\">\r\n\r\n          <section className=\"form-wrapper-sec\" style={{ position: 'relative' }}>\r\n            <label>タイトル</label><span className=\"form-span\">必須</span>\r\n            {message.title && (\r\n              <span style={{ color: 'red', fontSize: 8, position: 'absolute', right: 0, top: 3 }}>{message.title}</span>\r\n            )}\r\n            {this.state.input.title\r\n              ? <input\r\n                value={input.title}\r\n                type=\"text\"\r\n                name=\"title\"\r\n                onChange={event => this.changeInputText(event)}\r\n                onBlur={this.handleBlurTitle}\r\n                className=\"input-area\" \r\n                placeholder=\"悩みのタイトルを入力してください ※50文字以内\"></input>\r\n              : <input\r\n                name=\"title\"\r\n                value={input.title}\r\n                onBlur={this.handleBlurTitle}\r\n                onChange={event => this.changeInputText(event)}\r\n                className=\"input-area\" \r\n                placeholder=\"悩みのタイトルを入力してください ※50文字以内\"></input>\r\n            }\r\n          </section>\r\n\r\n          {/* フォームのタグ部分 */}\r\n\r\n          <section className=\"form-wrapper-sec\" style={{ position: 'relative' }}>\r\n            <label>タグ</label><span className=\"form-span\">必須</span>\r\n            {message.tag && (\r\n              <span style={{ color: 'red', fontSize: 8, position: 'absolute', right: 0, top: 3 }}>{message.tag}</span>\r\n            )}\r\n\r\n            <ReactTags\r\n              tags={this.state.tags}\r\n              suggestions={this.state.suggestions}\r\n              onDelete={this.handleDelete.bind(this)}\r\n              // handleAddition={this.handleAddition.bind(this)}\r\n              onAddition={this.handleAddition.bind(this)}\r\n              onBlur={this.handleBlur}\r\n              placeholderText={\"タグを追加してください\"}\r\n            />\r\n          </section>\r\n\r\n          {/* フォームの悩み入力部分 */}\r\n\r\n          <section className=\"form-wrapper-sec\" style={{ position: 'relative' }}>\r\n            <label>悩み</label><span className=\"form-span\">必須</span>\r\n            {message.savedData && (\r\n              <span style={{ color: 'red', fontSize: 8, position: 'absolute', right: 0, top: 3 }}>{message.savedData}</span>\r\n            )}\r\n            {/* {input.title */}\r\n            {this.props.detail_todolist\r\n              ? <EditorJs onChange={this.saveEditor} instanceRef={instance => this.editorInstance = instance} data={this.props.detail_todolist.worry} tools={EDITOR_JS_TOOLS} enableReInitialize={false} />\r\n              : <EditorJs onChange={this.saveEditor} instanceRef={instance => this.editorInstance = instance} tools={EDITOR_JS_TOOLS} enableReInitialize={false} />\r\n              // : <EditorJs onChange={this.saveEditor} instanceRef={instance => this.editorInstance = instance} data={this.props.detail_todolist.resolve} tools={EDITOR_JS_TOOLS} enableReInitialize={false} />\r\n            }\r\n          </section>\r\n\r\n          <FormButton\r\n            {...this.props}\r\n\r\n\r\n            title={input.title}\r\n            tags={this.state.tags}\r\n            savedData={this.state.savedData}\r\n            sendMethod={this.sendMethod}\r\n\r\n            canSubmit={this.canSubmit}\r\n            startSending={this.startSending}\r\n            endSending={this.endSending}\r\n            handleOpen={this.props.handleOpen}\r\n            handleClose={this.props.handleClose}\r\n          />\r\n        </form>\r\n      )\r\n    }\r\n\r\n\r\n    return (\r\n      <React.Fragment>\r\n        {displayForm}\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Form;","import React from 'react';\r\nimport FormButton from './FormButton';\r\nimport Display from './Display';\r\n// import Axios from 'axios';\r\nimport AxiosBase from 'axios';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport EditorJs from 'react-editor-js';\r\n\r\nimport { EDITOR_JS_TOOLS } from \"./editor-tool\";\r\n\r\n\r\n// ****************************************************************///\r\n// LISTの詳細\r\n// ****************************************************************///\r\n\r\n\r\nconst Axios = AxiosBase.create({\r\n    baseURL: \"https://troument-api.net\"\r\n});\r\n\r\n\r\nclass Detail extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            isUpdateFormOpen: false,\r\n            isDeleteDialogOpen: false,\r\n            isGoodCheck: false,\r\n            isGood: false,\r\n            isOpenDetail: this.props.isOpenDetail,\r\n            isStatus: this.props.detail_todolist.status,\r\n            detail_todolist: this.props.detail_todolist\r\n        }\r\n        this.listDelete = this.listDelete.bind(this)\r\n        this.deleteDialogOpen = this.deleteDialogOpen.bind(this)\r\n    }\r\n\r\n    // ****************************************************************///\r\n    // 投稿した内容をリストから消去\r\n    // ****************************************************************///\r\n\r\n    listDelete() {\r\n        this.props.actionMethod.handleTodolistsDelete(this.state.detail_todolist.worry_id)\r\n\r\n        Axios.delete('/api/delete', {\r\n            data: { worry_id: this.state.detail_todolist.worry_id }\r\n        })\r\n            .then(response => {\r\n            })\r\n            .catch(err => {\r\n                console.error(new Error(err))\r\n            })\r\n\r\n        this.props.actionMethod.clickFormClose()\r\n    }\r\n\r\n    // ****************************************************************///\r\n    // 投稿したものを削除するとき、モーダルを表示する (実行)\r\n    // ****************************************************************///\r\n\r\n    deleteDialogOpen = () => {\r\n        this.setState(\r\n            {\r\n                isDeleteDialogOpen: true\r\n            }\r\n        )\r\n    };\r\n\r\n    // ****************************************************************///\r\n    // 削除時のモーダルを閉じる (キャンセル)\r\n    // ****************************************************************///\r\n\r\n    deleteDialogClose = () => {\r\n        this.setState(\r\n            {\r\n                isDeleteDialogOpen: false\r\n            }\r\n        )\r\n    };\r\n\r\n    // ****************************************************************///\r\n    // Editor.js readonly対応\r\n    // ****************************************************************///\r\n\r\n    getReadOnly = () => {\r\n        let worryElements = document.getElementById(\"worry\"); // id of editor element\r\n        let resolveElements = document.getElementById(\"resolve\"); // id of editor element\r\n\r\n        worryElements.style.pointerEvents = \"none\";\r\n\r\n        try {\r\n            resolveElements.style.pointerEvents = \"none\";\r\n        } catch (e) {\r\n            \r\n        }\r\n\r\n        let tool = document.querySelectorAll(\".ce-toolbar\");\r\n        for (let i = 0; i < tool.length; i++) {\r\n            tool[i].style.display = \"none\"\r\n        }\r\n    }\r\n\r\n    // ****************************************************************///\r\n    // レンダリング\r\n    // ****************************************************************///    \r\n\r\n    render() {\r\n\r\n        let createDetail;\r\n        let login_user = this.props.login_user\r\n\r\n        if (this.state.isStatus) {\r\n            createDetail = (\r\n                <React.Fragment>\r\n                    <div className=\"detail-wrapper\">\r\n                        <section>\r\n                            <h1 className=\"detail-section\">\r\n                                悩みの詳細\r\n                            </h1>\r\n                        </section>\r\n                        <div className=\"detail-area\">\r\n                            <EditorJs onReady={this.getReadOnly} holder=\"worry\" data={this.state.detail_todolist.worry} enableReInitialize={true} instanceRef={instance => this.editorInstance = instance} tools={EDITOR_JS_TOOLS}>\r\n                                <div id=\"worry\" />\r\n                            </EditorJs>\r\n                        </div>\r\n                        <section>\r\n                            <h1 className=\"detail-section\">\r\n                                解決詳細\r\n                             </h1>\r\n                        </section>\r\n                        <div className=\"detail-area\">\r\n                            <EditorJs holder=\"resolve\" data={this.state.detail_todolist.resolve} enableReInitialize={true} instanceRef={instance => this.editorInstance = instance} tools={EDITOR_JS_TOOLS}>\r\n                                <div id=\"resolve\" />\r\n                            </EditorJs>\r\n                        </div>\r\n                    </div>\r\n                </React.Fragment>\r\n            )\r\n        } else {\r\n            createDetail = (\r\n                <React.Fragment>\r\n                    <div className=\"detail-wrapper\">\r\n                        <section>\r\n                            <h1 className=\"detail-section\">\r\n                                悩み中\r\n                            </h1>\r\n                        </section>\r\n                        <div className=\"detail-area\">\r\n                            <EditorJs onReady={this.getReadOnly} holder=\"worry\" data={this.state.detail_todolist.worry} enableReInitialize={true} instanceRef={instance => this.editorInstance = instance} tools={EDITOR_JS_TOOLS}>\r\n                                <div id=\"worry\" />\r\n                            </EditorJs>\r\n                        </div>\r\n                        <FormButton\r\n                            actionMethod={this.props.actionMethod}\r\n                            isStatus={this.state.isStatus}\r\n                            detail_todolist={this.props.detail_todolist}\r\n                            login_user={login_user}\r\n                            isUpdateFormOpen={this.state.isUpdateFormOpen}\r\n                            isOpenDetail={this.state.isOpenDetail}\r\n                        />\r\n                    </div>\r\n                </React.Fragment>\r\n            )\r\n        }\r\n\r\n        return (\r\n            // <React.Fragment>\r\n            <div className=\"display-title-wrapper\">\r\n                <Display\r\n                    {...this.props}\r\n                    isOpenDetail={this.props.isOpenDetail}\r\n                    isGood={this.state.isGood}\r\n                    isUpdateFormOpen={this.state.isUpdateFormOpen}\r\n\r\n                    deleteDialogOpen={this.deleteDialogOpen}\r\n                    goodCheck={this.goodCheck}\r\n                    actionMethod={this.props.actionMethod}\r\n\r\n                    _id={this.state.detail_todolist._id}\r\n                />\r\n\r\n                {createDetail}\r\n\r\n                <Dialog\r\n                    open={this.state.isDeleteDialogOpen}\r\n                    onClose={this.deleteDialogClose}\r\n                    aria-labelledby=\"alert-dialog-title\"\r\n                    aria-describedby=\"alert-dialog-description\"\r\n                >\r\n                    <DialogTitle id=\"alert-dialog-title\">{this.state.isStatus ? \"解決したものを削除しようとしています\" : \"悩み中のものを削除しようとしています\"}</DialogTitle>\r\n                    <DialogContent>\r\n                        <DialogContentText id=\"alert-dialog-description\">\r\n                            削除してもよろしいですか？\r\n                        </DialogContentText>\r\n                    </DialogContent>\r\n                    <DialogActions>\r\n                        <Button onClick={this.deleteDialogClose} color=\"primary\">\r\n                            キャンセル\r\n                        </Button>\r\n                        <Button onClick={this.listDelete} color=\"primary\" autoFocus>\r\n                            OK\r\n                        </Button>\r\n                    </DialogActions>\r\n                </Dialog>\r\n\r\n            </div >\r\n            // </React.Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Detail;","import React from 'react';\r\n\r\nclass Notify extends React.Component{\r\n    render()\r\n    {\r\n      return (\r\n        <div className=\"notify-wrapper\">\r\n          <div className=\"notify\">\r\n            <img alt=\"Notify\" className=\"notify-icon\" src=\"/icon/moyamoya.svg\" />\r\n            <p className=\"notify-text\">悩みタイトル</p>\r\n          </div>\r\n          <p className=\"notify-contect\">○○さんがあなたと同じ悩みを持っています</p>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n  \r\n  export default Notify;","import React from 'react';\r\nimport Display from './Display';\r\n\r\nclass Search extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      searchLists: [],\r\n      todolists: this.props.todolists,\r\n      searchWord: '',\r\n      isSearch: true,\r\n      isHome: false\r\n    }\r\n    this.filterSearchWord = this.filterSearchWord.bind(this)\r\n  }\r\n\r\n  // ****************************************************************///\r\n  // 文字が入力されるたびにsearchDisplayを実行する \r\n  // ****************************************************************///\r\n\r\n  filterSearchWord(e) {\r\n    const value = e.target.value;\r\n    this.setState({\r\n      searchWord: value\r\n    }, () => {\r\n      this.searchDisplay(this.state.searchWord)\r\n    })\r\n  }\r\n\r\n  // ****************************************************************///\r\n  // 検索結果を表示する\r\n  // ****************************************************************///\r\n\r\n\r\n  searchDisplay(searchWord) {\r\n\r\n    if (searchWord !== '') {\r\n      const filterList =\r\n        this.props.todolists &&\r\n        this.props.todolists.filter((todolist) => {\r\n          return (\r\n            (todolist.title && todolist.title.toString().toLowerCase().indexOf(searchWord.toLowerCase()) !== -1) ||\r\n            (todolist.tag[0].name && todolist.tag[0].name.toString().toLowerCase().indexOf(searchWord.toLowerCase()) !== -1) ||\r\n            (todolist.worry.blocks[0].data.text && todolist.worry.blocks[0].data.text.toString().toLowerCase().indexOf(searchWord.toLowerCase()) !== -1)\r\n          )\r\n        }\r\n        )\r\n\r\n      this.setState({\r\n        searchLists: filterList,\r\n      }\r\n      )\r\n\r\n    }\r\n  }\r\n\r\n  // ****************************************************************///\r\n  // 検索欄に文字が入力されているかで表示を切り替える\r\n  // ****************************************************************///\r\n\r\n  render() {\r\n    let searchResult;\r\n\r\n    if (this.state.searchWord === '') {\r\n      searchResult = (\r\n        <div className=\"search-wrapper\">\r\n          <img className=\"search-image\" src=\"/icon/Search_unDraw.svg\" alt=\"Search\" />\r\n          <div className=\"search-text-wrapper\">\r\n            <p className=\"search-text\">同じ悩みを抱えている人がいるかもしれません</p>\r\n            <p className=\"search-text\">検索してみましょう！</p>\r\n          </div>\r\n\r\n        </div>\r\n      )\r\n    } else {\r\n      searchResult = (\r\n          <Display\r\n            actionMethod={this.props.actionMethod}\r\n            todolists={this.state.searchLists}\r\n            isSearch={this.state.isSearch}\r\n          />\r\n      )\r\n    }\r\n\r\n    return (\r\n      <React.Fragment>\r\n        <div className=\"search-form-wrapper\">\r\n          <form className=\"search-form\">\r\n            <input value={this.state.searchWord} className=\"search-input input-area\" onChange={e => this.filterSearchWord(e)} placeholder=\"検索\"></input>\r\n          </form>\r\n        </div>\r\n        {searchResult}\r\n      </React.Fragment>\r\n    );\r\n\r\n  }\r\n}\r\n\r\nexport default Search;","import React from 'react';\r\nimport Display from './Display';\r\nimport User from './User';\r\nimport AxiosBase from 'axios';\r\n// import Axios from 'axios';\r\nimport { CircularProgress } from '@material-ui/core';\r\n\r\nimport ReactCrop from 'react-image-crop';\r\nimport 'react-image-crop/dist/ReactCrop.css';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport Backdrop from '@material-ui/core/Backdrop';\r\nimport Fade from '@material-ui/core/Fade';\r\n\r\nimport Avatar from 'react-avatar';\r\n\r\nconst Axios = AxiosBase.create({\r\n  baseURL: \"https://troument-api.net\"\r\n});\r\n\r\n\r\nclass Mypage extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      resultLists: [],\r\n      todolists: [],\r\n      worryCount: [],\r\n      resolveCount: [],\r\n      isActive: 0,\r\n      open: false,\r\n      files: [],\r\n      userInfo: this.props.userinfo,\r\n      // thumbnail: this.props.userinfo.thumbnail,\r\n      isMypage: true,\r\n      alltodolists: this.props.todolists,\r\n      src: null,\r\n      crop: {\r\n        unit: '%',\r\n        width: 30,\r\n        aspect: 16 / 9,\r\n      },\r\n    }\r\n    this.worryListDisplay = this.worryListDisplay.bind(this)\r\n    this.resolveListDisplay = this.resolveListDisplay.bind(this)\r\n    this.usefulListDisplay = this.usefulListDisplay.bind(this)\r\n    this.getMypageTodolists = this.getMypageTodolists.bind(this)\r\n  }\r\n\r\n\r\n  componentDidMount() {\r\n    this.getTodoListCount()\r\n  }\r\n\r\n\r\n  // ****************************************************************///\r\n  // ログインしているユーザーのLISTデータ取得\r\n  // ****************************************************************///\r\n\r\n  async getTodoListCount() {\r\n\r\n    await this.getMypageTodolists()\r\n\r\n    const worryCount =\r\n      this.state.todolists &&\r\n      this.state.todolists.filter((todolist) => {\r\n        return todolist.status === false\r\n      }\r\n      )\r\n\r\n    const resolveCount =\r\n      this.state.todolists &&\r\n      this.state.todolists.filter((todolist) => {\r\n        return todolist.status === true\r\n      }\r\n      )\r\n\r\n\r\n    const filterList =\r\n      this.state.todolists &&\r\n      this.state.todolists.filter((todolist) => {\r\n        return todolist.status === false\r\n      }\r\n      )\r\n\r\n    this.setState({\r\n      worryCount: worryCount,\r\n      resolveCount: resolveCount,\r\n      goodCount: this.state.goodlist.length || 0,\r\n      resultLists: filterList,\r\n    })\r\n\r\n  }\r\n\r\n\r\n  // ****************************************************************///\r\n  // ログインしているユーザーのTodolistsの取得\r\n  // ****************************************************************///\r\n\r\n  async getMypageTodolists() {\r\n    const login_user = User.LoggedUser()\r\n    this.setState({\r\n      username: login_user\r\n    })\r\n    const param = {\r\n      username: login_user,\r\n    }\r\n\r\n\r\n    // ****************************************************************///\r\n    // いいねしているデータを取得\r\n    // ****************************************************************///\r\n\r\n    await Axios.get('/api/mygoodinfo', { params: param })\r\n      .then(response => {\r\n        this.setState((state => {\r\n          return { goodlist: response.data }\r\n        })\r\n        )\r\n      })\r\n      .catch(err => {\r\n        console.error(new Error(err))\r\n      })\r\n\r\n    // ****************************************************************///\r\n    // ログインユーザー情報からサムネイル取得\r\n    // ****************************************************************///\r\n\r\n    await Axios.get('/api/userinfo', { params: param })\r\n      .then(response => {\r\n        this.setState((state => {\r\n          return { thumbnail: response.data.thumbnail }\r\n        })\r\n        )\r\n      })\r\n      .catch(err => {\r\n        console.error(new Error(err))\r\n      })\r\n\r\n    // ****************************************************************///\r\n    // ユーザー情報を関連つけたデータを取得\r\n    // ****************************************************************///\r\n\r\n    await Axios.get('/api/mypage', { params: param })\r\n      .then(response => {\r\n        this.setState((state => {\r\n          return { todolists: response.data.reverse() }\r\n          // return { todolists: response.data.reverse(), loading: true }\r\n        })\r\n        )\r\n      })\r\n      .catch(err => {\r\n        console.error(new Error(err))\r\n      })\r\n  }\r\n\r\n\r\n\r\n  // ****************************************************************///\r\n  // 悩み中のリストを取得\r\n  // ****************************************************************///\r\n\r\n  worryListDisplay = () => {\r\n\r\n    const filterList =\r\n      this.state.todolists &&\r\n      this.state.todolists.filter((todolist) => {\r\n        return todolist.status === false\r\n      }\r\n      )\r\n    this.setState({\r\n      resultLists: filterList,\r\n      isActive: 0\r\n    })\r\n  }\r\n\r\n  // ****************************************************************///\r\n  // 解決済のリストを取得\r\n  // ****************************************************************///\r\n\r\n  resolveListDisplay() {\r\n    const filterList =\r\n      this.state.todolists &&\r\n      this.state.todolists.filter((todolist) => {\r\n        return todolist.status === true\r\n      }\r\n      )\r\n    this.setState({\r\n      resultLists: filterList,\r\n      isActive: 1\r\n    }\r\n    )\r\n  }\r\n\r\n  // ****************************************************************///\r\n  // グッドしているリストを取得\r\n  // ****************************************************************///\r\n\r\n  usefulListDisplay() {\r\n    if (this.state.goodlist) {\r\n      this.setState({\r\n        resultLists: this.state.goodlist,\r\n        isActive: 2\r\n      }\r\n      )\r\n    } else {\r\n      this.setState({\r\n        resultLists: [],\r\n        isActive: 2\r\n      }\r\n      )\r\n    }\r\n  }\r\n\r\n  // ****************************************************************///\r\n  // トリミングされた画像を保存\r\n  // ****************************************************************///\r\n\r\n  sendPicToS3 = () => {\r\n    const login_user = User.LoggedUser()\r\n    this.setState({\r\n      username: login_user\r\n    })\r\n\r\n\r\n    const formData = new FormData();\r\n    formData.append('Files', this.state.croppedImageUrl)\r\n    formData.append('username', this.state.username)\r\n\r\n    Axios.post('/api/files',\r\n      formData,\r\n    ).then(response => {\r\n      this.setState((state => {\r\n        return { thumbnail: this.state.croppedImageUrl }\r\n      }), () => this.handleReload()\r\n      )\r\n    }\r\n    )\r\n\r\n    this.setState({\r\n      isPicOpen: false\r\n    })\r\n  }\r\n\r\n  // ****************************************************************///\r\n  // 選択された範囲でトリミングを実施  ライブラリ：react-image-crop\r\n  // ****************************************************************///\r\n\r\n  onSelectFile = e => {\r\n    if (e.target.files && e.target.files.length > 0) {\r\n      const reader = new FileReader();\r\n      reader.addEventListener('load', () =>\r\n        this.setState((state => {\r\n          return {\r\n            src: reader.result,\r\n            isPicOpen: true,\r\n          }\r\n        })\r\n        )\r\n      );\r\n      reader.readAsDataURL(e.target.files[0]);\r\n    }\r\n  };\r\n\r\n\r\n  onImageLoaded = image => {\r\n    this.imageRef = image;\r\n  };\r\n\r\n  onCropComplete = crop => {\r\n    this.makeClientCrop(crop);\r\n  };\r\n\r\n  onCropChange = (crop, percentCrop, files) => {\r\n    // You could also use percentCrop:\r\n    // this.setState({ crop: percentCrop });\r\n    this.setState({ crop });\r\n  };\r\n\r\n  async makeClientCrop(crop) {\r\n    if (this.imageRef && crop.width && crop.height) {\r\n      const croppedImageUrl = await this.getCroppedImg(\r\n        this.imageRef,\r\n        crop,\r\n        this.state.username\r\n      );\r\n      this.setState({ croppedImageUrl });\r\n    }\r\n  }\r\n\r\n  getCroppedImg(image, crop, fileName) {\r\n    const canvas = document.createElement('canvas');\r\n    const scaleX = image.naturalWidth / image.width;\r\n    const scaleY = image.naturalHeight / image.height;\r\n    canvas.width = crop.width;\r\n    canvas.height = crop.height;\r\n    const ctx = canvas.getContext('2d');\r\n\r\n    ctx.drawImage(\r\n      image,\r\n      crop.x * scaleX,\r\n      crop.y * scaleY,\r\n      crop.width * scaleX,\r\n      crop.height * scaleY,\r\n      0,\r\n      0,\r\n      crop.width,\r\n      crop.height\r\n    );\r\n\r\n    return new Promise((resolve, reject) => {\r\n      canvas.toBlob(blob => {\r\n        if (!blob) {\r\n          console.error('Canvas is empty');\r\n          return;\r\n        }\r\n        blob.name = fileName;\r\n        window.URL.revokeObjectURL(this.fileUrl);\r\n        this.fileUrl = window.URL.createObjectURL(blob);\r\n        resolve(blob);\r\n      }, 'image/png');\r\n    });\r\n  }\r\n\r\n\r\n  // ****************************************************************///\r\n  // サムネイル更新後、情報再取得\r\n  // ****************************************************************///\r\n\r\n  handleReload() {\r\n    this.props.getTodolists()\r\n    this.getTodoListCount()\r\n  }\r\n\r\n\r\n  // ****************************************************************///\r\n  // 画像のトリミングをキャンセル\r\n  // ****************************************************************///\r\n\r\n  canSendPic = () => {\r\n    this.setState(\r\n      {\r\n        isPicOpen: false\r\n      }\r\n    )\r\n  };\r\n\r\n  // ****************************************************************///\r\n  // render\r\n  // ****************************************************************///\r\n\r\n  render() {\r\n    console.log(this.state.resultLists)\r\n    const { crop, src } = this.state;\r\n    return (\r\n      <React.Fragment>\r\n        <div className=\"profile-wrapper\">\r\n          <div className=\"profile-header\">\r\n            <div className=\"profile\">\r\n              <label className=\"sample\">\r\n                <Avatar size={\"50px\"} round={\"10px\"} alt=\"PROFILE\" src={\"https://troument.s3-ap-northeast-1.amazonaws.com/\" + this.state.thumbnail} />\r\n                <input type=\"file\" accept=\"image/*\" onChange={this.onSelectFile} />\r\n              </label>\r\n              <p className=\"profile_name\">{this.state.username}</p>\r\n            </div>\r\n            <div className=\"profile-count\">\r\n              <ul className=\"count-lists\">\r\n                <li className=\"count-list\"><p className=\"count-list-number\">{this.state.worryCount.length}</p><p className=\"count-list-text\">悩み中</p></li>\r\n                <li className=\"count-list\"><p className=\"count-list-number\">{this.state.resolveCount.length}</p><p className=\"count-list-text\">解決済</p></li>\r\n                <li className=\"count-list\"><p className=\"count-list-number\">{this.state.goodCount}</p><p className=\"count-list-text\">スコア</p></li>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n\r\n          <Modal\r\n            aria-labelledby=\"transition-modal-title\"\r\n            aria-describedby=\"transition-modal-description\"\r\n            open={this.state.isPicOpen}\r\n            onClose={this.CliskcPicClose}\r\n            closeAfterTransition\r\n            BackdropComponent={Backdrop}\r\n            BackdropProps={{\r\n              timeout: 500,\r\n            }}\r\n          >\r\n            <Fade in={this.state.isPicOpen}>\r\n              <div className=\"modal\">\r\n                {src && (\r\n                  <ReactCrop\r\n                    src={src}\r\n                    crop={crop}\r\n                    ruleOfThirds\r\n                    onImageLoaded={this.onImageLoaded}\r\n                    onComplete={this.onCropComplete}\r\n                    onChange={this.onCropChange}\r\n                  />\r\n                )}\r\n                <div className=\"button-wrapper crop-button\">\r\n                  <button className=\"button\" onClick={this.canSendPic}>キャンセル</button>\r\n                  <button className=\"button\" onClick={this.sendPicToS3}>決定</button>\r\n                </div>\r\n              </div>\r\n            </Fade>\r\n          </Modal>\r\n\r\n\r\n\r\n          <div className=\"lists\">\r\n            <button className={\"listbutton \" + (this.state.isActive === 0 ? 'active' : '')}><span onClick={this.worryListDisplay} className=\"list worry-list\">悩み一覧</span></button>\r\n            <button className={\"listbutton \" + (this.state.isActive === 1 ? 'active' : '')}><span onClick={this.resolveListDisplay} className=\"list resolve-list\">解決済一覧</span></button>\r\n            <button className={\"listbutton \" + (this.state.isActive === 2 ? 'active' : '')}><span onClick={this.usefulListDisplay} className=\"list useful-list\">役立ち一覧</span></button>\r\n          </div>\r\n        </div>\r\n        <div className=\"display-title-wrapper\">\r\n\r\n          {this.state.resultLists.length !== 0\r\n            ? <Display\r\n              todolists={this.state.resultLists}\r\n              actionMethod={this.props.actionMethod}\r\n              isMypage={this.state.isMypage}\r\n            />\r\n            : <p className=\"mypage-contents-wrappers mypage-no-data\">データが存在しません</p>\r\n            // : <CircularProgress />\r\n          }\r\n        </div>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Mypage;","import React from 'react';\r\nimport Navigation from './Navigation';\r\nimport Display from './Display';\r\nimport Form from './Form';\r\nimport Detail from './Detail';\r\nimport Notify from './Notify';\r\nimport Search from './Search';\r\nimport Mypage from './Mypage';\r\nimport Auth from './Auth';\r\nimport User from './User';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\r\nimport './App.css'\r\nimport AxiosBase from 'axios';\r\n// import Axios from 'axios';\r\n\r\nimport Modal from '@material-ui/core/Modal';\r\nimport Backdrop from '@material-ui/core/Backdrop';\r\nimport Fade from '@material-ui/core/Fade';\r\n\r\n// ****************************************************************///\r\n//  初期画面\r\n// ****************************************************************///\r\n\r\nconst Axios = AxiosBase.create({\r\n    baseURL: \"https://troument-api.net\"\r\n  });\r\n\r\n\r\nclass Home extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            isFormOpen: false,\r\n            isResolveFormOpen: false,\r\n            todolists: [] || this.props.todolists,\r\n            userinfo: [] || this.props.userinfo,\r\n            isOpenDetail: false,\r\n            popover: false,\r\n            isGood: false,\r\n            loading: false,\r\n            isHome: true\r\n\r\n        }\r\n        this.clickFormClose = this.clickFormClose.bind(this)\r\n        this.handleWorryAdd = this.handleWorryAdd.bind(this)\r\n        this.handleResolveAdd = this.handleResolveAdd.bind(this)\r\n        this.displayDetail = this.displayDetail.bind(this)\r\n        this.handleWorryUpdate = this.handleWorryUpdate.bind(this)\r\n        this.handleResolveUpdate = this.handleResolveUpdate.bind(this)\r\n        this.handleTodolistsDelete = this.handleTodolistsDelete.bind(this)\r\n        this.createTime = this.createTime.bind(this)\r\n        this.handleGoodCount = this.handleGoodCount.bind(this)\r\n        this.gooStatusCheck = this.gooStatusCheck.bind(this)\r\n        this.getTodolists = this.getTodolists.bind(this)\r\n        this.updateFormOpen = this.updateFormOpen.bind(this)\r\n        this.resolveFormOpen = this.resolveFormOpen.bind(this)\r\n    }\r\n\r\n\r\n    componentDidMount() {\r\n\r\n        this.getTodolists()\r\n        this.getUserinfo()\r\n\r\n    }\r\n\r\n    // ****************************************************************///\r\n    // Todolistsの取得\r\n    // ****************************************************************///\r\n\r\n    getTodolists() {\r\n        const login_user = User.LoggedUser()\r\n        this.setState({\r\n            login_user: login_user\r\n        })\r\n        Axios.get('/api/display')\r\n            .then(response => {\r\n                this.setState((state => {\r\n                    return { todolists: response.data.reverse(), loading: true }\r\n                })\r\n                )\r\n            })\r\n            .catch(err => {\r\n                console.error(new Error(err))\r\n            })\r\n    }\r\n\r\n    // ****************************************************************///\r\n    // ログインしているユーザーの情報取得\r\n    // ****************************************************************///\r\n\r\n    getUserinfo() {\r\n        const login_user = User.LoggedUser()\r\n        const param = {\r\n            username: login_user,\r\n        }\r\n        Axios.get('/api/userinfo', { params: param })\r\n            .then(response => {\r\n                this.setState((state => {\r\n                    return { userinfo: response.data, loading: true }\r\n                })\r\n                )\r\n            })\r\n            .catch(err => {\r\n                console.error(new Error(err))\r\n            })\r\n    }\r\n\r\n    // ****************************************************************///\r\n    //  悩みを投稿  ホーム画面のボタンから投稿\r\n    // ****************************************************************///\r\n\r\n    async handleWorryAdd(title, tags, savedData) {\r\n        this.setState((state => {\r\n            return { loading: false }\r\n        }))\r\n        let time = this.createTime()\r\n\r\n        this.clickFormClose()\r\n        const shortid = require('shortid');\r\n        let worry_id = shortid.generate()\r\n\r\n        const list = {\r\n            username: this.state.userinfo.user_name,\r\n            title: title,\r\n            tag: tags,\r\n            worry: savedData,\r\n            resolve: '',\r\n            site: '',\r\n            status: false,\r\n            time: time,\r\n            worry_id: worry_id\r\n        }\r\n\r\n\r\n        Axios.post('/api/worryadd', {\r\n            list: list,\r\n        })\r\n            .then(response => {\r\n                response.data.user = this.state.userinfo\r\n                this.state.todolists.unshift(\r\n                    response.data\r\n                );\r\n                this.setState((state => {\r\n                    return { todolists: this.state.todolists, loading: true }\r\n                }));\r\n            })\r\n            .catch(err => {\r\n                console.error(new Error(err))\r\n            })\r\n\r\n    }\r\n\r\n\r\n    // ****************************************************************///\r\n    // 解決方法の投稿   detailコンポーネントのresolveAddから実行\r\n    // ****************************************************************///\r\n\r\n    async handleResolveAdd(savedData) {\r\n        let time = this.createTime()\r\n\r\n        await this.handleTodolistsDelete(this.state.detail_todolist.worry_id)\r\n        let detail_todolist = this.state.detail_todolist\r\n\r\n        detail_todolist.resolve = savedData\r\n        detail_todolist.status = true\r\n        detail_todolist.time = time\r\n\r\n        this.state.todolists.unshift(detail_todolist);\r\n        this.setState((state => {\r\n            return { todolists: this.state.todolists }\r\n        })\r\n        );\r\n\r\n        Axios.put('/api/resolveadd', {\r\n            resolve: savedData,\r\n            worry_id: this.state.detail_todolist.worry_id,\r\n            status: true,\r\n            time: time\r\n        })\r\n            .then(response => {\r\n            })\r\n            .catch(err => {\r\n                console.error(new Error(err))\r\n            })\r\n\r\n        this.clickFormClose()\r\n    }\r\n\r\n    // ****************************************************************///\r\n    // 　選択された投稿をtodolistsから削除する state\r\n    // ****************************************************************///\r\n\r\n\r\n    async handleTodolistsDelete(worry_id) {\r\n        const new_todolists =\r\n            this.state.todolists.filter((todolist) => {\r\n                return todolist.worry_id !== worry_id\r\n            })\r\n        this.setState(\r\n            {\r\n                todolists: new_todolists\r\n            }\r\n        )\r\n\r\n    }\r\n\r\n    // ****************************************************************///\r\n    // 悩みの編集 Detailコンポーネントの1worryUpdateから実行\r\n    // ****************************************************************///\r\n\r\n    async handleWorryUpdate(title, tag, savedData) {\r\n        let time = this.createTime()\r\n        await this.handleTodolistsDelete(this.state.detail_todolist.worry_id)\r\n\r\n        let detail_todolist = this.state.detail_todolist\r\n\r\n        detail_todolist.title = title\r\n        detail_todolist.tag = tag\r\n        detail_todolist.worry = savedData\r\n        detail_todolist.time = time\r\n\r\n        this.state.todolists.unshift(detail_todolist);\r\n        this.setState((state => {\r\n            return { todolists: this.state.todolists }\r\n        })\r\n        );\r\n        // const url = constUrl + '/api/listupdate'\r\n        Axios.post('/api/listupdate', {\r\n            detail_todolist: this.state.detail_todolist,\r\n        })\r\n            .then(response => {\r\n            })\r\n            .catch(err => {\r\n                console.error(new Error(err))\r\n            })\r\n\r\n\r\n        this.clickFormClose()\r\n\r\n    }\r\n\r\n    // ****************************************************************///\r\n    // 解決の編集DetailコンポーネントのresolveUpdateから実行\r\n    // ****************************************************************///\r\n\r\n    async handleResolveUpdate(savedData) {\r\n        let time = this.createTime()\r\n        await this.handleTodolistsDelete(this.state.detail_todolist.worry_id)\r\n\r\n\r\n        let detail_todolist = this.state.detail_todolist\r\n\r\n        detail_todolist.resolve = savedData\r\n        detail_todolist.time = time\r\n\r\n        this.state.todolists.unshift(detail_todolist);\r\n        this.setState((state => {\r\n            return { todolists: this.state.todolists }\r\n        })\r\n        );\r\n\r\n        Axios.post('/api/listupdate', {\r\n            detail_todolist: this.state.detail_todolist,\r\n        })\r\n            .then(response => {\r\n            })\r\n            .catch(err => {\r\n                console.error(new Error(err))\r\n            })\r\n\r\n        this.clickFormClose()\r\n    }\r\n\r\n\r\n    // ****************************************************************///\r\n    // worry_idが一致する詳細を表示\r\n    // ****************************************************************///\r\n\r\n    displayDetail(worry_id) {\r\n\r\n        const detail_todolist =\r\n            this.state.todolists.filter((todolist) => {\r\n                return todolist.worry_id === worry_id\r\n            })\r\n\r\n        this.setState({\r\n            isOpenDetail: true,\r\n            detail_todolist: detail_todolist[0],\r\n        })\r\n    }\r\n\r\n    // ****************************************************************///\r\n    // 解決ボタンが押された時に実行\r\n    // ****************************************************************///\r\n\r\n    resolveFormOpen() {\r\n        this.setState({\r\n            isResolveFormOpen: true,\r\n            isFormOpen: true\r\n        })\r\n    }\r\n\r\n\r\n    // ****************************************************************///\r\n    // 悩み・解決を投稿するFormを表示\r\n    // ****************************************************************///\r\n\r\n    postFormOpen = () => {\r\n        this.setState(\r\n            {\r\n                isFormOpen: true,\r\n                isResolveFormOpen: false,\r\n                isUpdateFormOpen: false,\r\n                isOpenDetail: false,\r\n            }\r\n        )\r\n    }\r\n\r\n    // ****************************************************************///\r\n    // 悩み・解決を投稿するFormをクローズ. 投稿後のポップアップ表示\r\n    // ****************************************************************///\r\n\r\n    clickFormClose() {\r\n\r\n        this.setState(\r\n            {\r\n                isResolveFormOpen: false,\r\n                isUpdateFormOpen: false,\r\n                isOpenDetail: false,\r\n                isFormOpen: false,\r\n                pop_open: true,\r\n            }\r\n        )\r\n    }\r\n\r\n    // ****************************************************************///\r\n    // 投稿したものを編集するフォームを表示\r\n    // ****************************************************************///\r\n\r\n    updateFormOpen() {\r\n        this.setState(\r\n            {\r\n                isFormOpen: true,\r\n                isUpdateFormOpen: true\r\n            }\r\n        )\r\n    }\r\n\r\n\r\n    // ****************************************************************///\r\n    //  時間のFormatを変換 \r\n    // ****************************************************************///\r\n\r\n    createTime(time) {\r\n        let now_time\r\n\r\n        if (time) {\r\n            now_time = new Date(time)\r\n            now_time = now_time.toLocaleString()\r\n        } else {\r\n            now_time = new Date()\r\n        }\r\n\r\n        return now_time\r\n    }\r\n\r\n\r\n    // ****************************************************************///\r\n    //  goodの確認\r\n    // ****************************************************************///\r\n\r\n    handleGoodCount(_id, isGood) {\r\n        this.gooStatusCheck(_id, isGood)\r\n    }\r\n\r\n    // ****************************************************************///\r\n    // goodした履歴があるかチェック\r\n    // ****************************************************************///\r\n\r\n    async gooStatusCheck(_id, isGood) {\r\n\r\n        if (isGood) {\r\n            this.goodDeleteCheck(_id)\r\n        } else {\r\n            this.goodAddCheck(_id)\r\n        }\r\n    }\r\n\r\n    // ****************************************************************///\r\n    //  goodした履歴がない場合追加する\r\n    // ****************************************************************///\r\n\r\n    async goodAddCheck(_id) {\r\n        let CountUp = []\r\n        CountUp = this.state.detail_todolist\r\n        CountUp.count = CountUp.count + 1\r\n        CountUp.user.goodlist.push(_id)\r\n\r\n        this.setState((state => {\r\n            return {\r\n                detail_todolist: CountUp\r\n            }\r\n        })\r\n        )\r\n\r\n        const param = {\r\n            _id: _id,\r\n            username: this.state.login_user,\r\n            count: this.state.detail_todolist.count\r\n        }\r\n\r\n        Axios.get('/api/goodadd', {\r\n            params: param\r\n        })\r\n            .then(response => {\r\n            })\r\n            .catch(err => {\r\n                console.error(new Error(err))\r\n            })\r\n    }\r\n\r\n    // ****************************************************************///\r\n    // goodした履歴がある場合、削除\r\n    // ****************************************************************///\r\n\r\n    async goodDeleteCheck(_id) {\r\n        let CountUp = []\r\n        CountUp = this.state.detail_todolist\r\n        CountUp.count = CountUp.count - 1\r\n\r\n\r\n        const goodcheck =\r\n            this.state.detail_todolist.user.goodlist.findIndex((good) => {\r\n                return good === _id\r\n            })\r\n\r\n        CountUp.user.goodlist.splice(goodcheck, 1)\r\n\r\n        this.setState((state => {\r\n            return {\r\n                detail_todolist: CountUp\r\n            }\r\n        })\r\n        )\r\n        const param = {\r\n            _id: _id,\r\n            username: this.state.login_user,\r\n            count: this.state.detail_todolist.count\r\n        }\r\n\r\n        Axios.get('/api/gooddelete', { params: param })\r\n            .then(response => {\r\n            })\r\n            .catch(err => {\r\n                console.error(new Error(err))\r\n            })\r\n    }\r\n\r\n\r\n\r\n\r\n    handleOpen = () => {\r\n        this.setState({\r\n            setOpen: true\r\n        })\r\n    };\r\n\r\n    handleClose = () => {\r\n        this.setState({\r\n            setOpen: false\r\n        })\r\n    };\r\n\r\n\r\n\r\n\r\n    // ****************************************************************///\r\n    // render    stateとpropsに変化があった場合に呼び出される\r\n    // ****************************************************************///\r\n\r\n    render() {\r\n        let homeDisplay\r\n        const actionMethod = {\r\n            handleResolveAdd: this.handleResolveAdd,\r\n            handleWorryUpdate: this.handleWorryUpdate,\r\n            handleResolveUpdate: this.handleResolveUpdate,\r\n            handleTodolistsDelete: this.handleTodolistsDelete,\r\n            clickFormClose: this.clickFormClose,\r\n            postFormOpen: this.postFormOpen,\r\n            createTime: this.createTime,\r\n            handleGoodCount: this.handleGoodCount,\r\n            goodAddCheck: this.goodAddCheck,\r\n            goodDeleteCheck: this.goodDeleteCheck,\r\n            displayDetail: this.displayDetail,\r\n            handleWorryAdd: this.handleWorryAdd,\r\n            updateFormOpen: this.updateFormOpen,\r\n            resolveFormOpen: this.resolveFormOpen\r\n        }\r\n\r\n\r\n        if (this.state.isFormOpen) {\r\n\r\n            this.state.isOpenDetail\r\n\r\n                ? homeDisplay = (\r\n                    <React.Fragment>\r\n                        <div className=\"display-title-wrapper\">\r\n                            <Display\r\n                                {...this.props}\r\n                                isOpenDetail={this.state.isOpenDetail}\r\n                                isGood={this.state.isGood}\r\n                                detail_todolist={this.state.detail_todolist}\r\n                                isUpdateFormOpen={this.state.isUpdateFormOpen}\r\n\r\n                                deleteDialogOpen={this.deleteDialogOpen}\r\n                                actionMethod={actionMethod}\r\n                                userinfo={this.state.userinfo}\r\n                                _id={this.state.detail_todolist._id}\r\n                            />\r\n                                <Form\r\n                                    isUpdateFormOpen={this.state.isUpdateFormOpen}\r\n                                    detail_todolist={this.state.detail_todolist}\r\n                                    isOpenDetail={this.state.isOpenDetail}\r\n                                    actionMethod={actionMethod}\r\n                                    isFormOpen={this.state.isFormOpen}\r\n                                    isResolveFormOpen={this.state.isResolveFormOpen}\r\n                                    handleClose={this.handleClose}\r\n                                    handleOpen={this.handleOpen}\r\n                                />\r\n                            </div>\r\n                    </React.Fragment>\r\n                )\r\n                : homeDisplay = (\r\n                    <Form\r\n                        isOpenDetail={this.state.isOpenDetail}\r\n                        login_user={this.state.login_user}\r\n                        actionMethod={actionMethod}\r\n                        handleClose={this.handleClose}\r\n                        handleOpen={this.handleOpen}\r\n                    />\r\n                )\r\n\r\n        } else {\r\n            if (this.state.isOpenDetail) {\r\n                homeDisplay = (\r\n                    <Detail\r\n                        todolists={this.state.todolists}\r\n                        userinfo={this.state.userinfo}\r\n                        detail_todolist={this.state.detail_todolist}\r\n                        count={this.state.count}\r\n                        login_user={this.state.login_user}\r\n                        isOpenDetail={this.state.isOpenDetail}\r\n                        actionMethod={actionMethod}\r\n                    />\r\n                )\r\n\r\n            } else {\r\n                this.state.loading && this.state.isHome\r\n                    ? homeDisplay = (\r\n                        <div className=\"display-title-wrapper\">\r\n                            <Display\r\n                                todolists={this.state.todolists}\r\n                                userinfo={this.state.userinfo}\r\n                                actionMethod={actionMethod}\r\n                            />\r\n\r\n                        </div>\r\n                    )\r\n                    : homeDisplay = (\r\n                        <CircularProgress />\r\n                    )\r\n            }\r\n        }\r\n\r\n        return (\r\n            <Router>\r\n                <Auth>\r\n                    <Switch>\r\n\r\n                        <Route exact path='/'>\r\n\r\n                            {homeDisplay}\r\n\r\n                            <Modal\r\n                                aria-labelledby=\"transition-modal-title\"\r\n                                aria-describedby=\"transition-modal-description\"\r\n                                open={this.state.setOpen}\r\n                                onClose={this.handleClose}\r\n                                className={\"modal\"}\r\n                                closeAfterTransition\r\n                                BackdropComponent={Backdrop}\r\n                                BackdropProps={{\r\n                                    timeout: 500,\r\n                                }}\r\n                            >\r\n                                <Fade in={this.state.setOpen}>\r\n                                    <div className=\"paper\">\r\n                                        <img className=\"pop-icon\" src=\"/image/paperplane.svg\" alt=\"紙飛行機\" />\r\n                                        <div className=\"pop-message\">投稿が完了しました！</div>\r\n                                        {/* <h2 id=\"transition-modal-title\" className=\"modal-title modal-cons\">送信完了!</h2>\r\n                                        <p id=\"transition-modal-description\" className=\"modal-description modal-cons\">頑張って解決させましょう!</p> */}\r\n                                    </div>\r\n                                </Fade>\r\n                            </Modal>\r\n\r\n                        </Route>\r\n\r\n                        <Route exact path='/Search'\r\n                            render={props => <Search todolists={this.state.todolists} loginuser={this.state.username} actionMethod={actionMethod} />} />\r\n\r\n                        <Route exact path='/Notify'>\r\n                            <Notify />\r\n                        </Route>\r\n\r\n\r\n                        <Route exact path='/Mypage'\r\n                            render={props => <Mypage getTodolists={this.getTodolists} getUserinfo={this.getUserinfo} userinfo={this.state.userinfo} todolists={this.state.todolists} loginuser={this.state.login_user} actionMethod={actionMethod} />} />\r\n\r\n                    </Switch>\r\n                </Auth>\r\n\r\n                <Navigation\r\n                    clickFormClose={this.clickFormClose}\r\n                    postFormOpen={this.postFormOpen}\r\n                    SearchList={this.SearchList}\r\n                    todolists={this.state.todolists}\r\n                />\r\n\r\n            </Router>\r\n        )\r\n\r\n    }\r\n\r\n}\r\n\r\n\r\nexport default Home;","import React from 'react';\nimport Header from './Header';\nimport Toppage from './Toppage';\nimport Register from './Register';\nimport Login from './Login';\nimport Auth from './Auth';\nimport Home from './Home';\n\nimport { BrowserRouter as Router, Route, Switch} from \"react-router-dom\";\n\nimport './App.css'\n\nclass App extends React.Component {\n\n  render() {\n\n    return (\n      \n      <Router>\n\n        <Header />\n        \n        <Switch>\n\n          <Route exact path='/Toppage'>\n            <Toppage />\n          </Route>\n\n          <Route exact path='/Register'>\n            <Register />\n          </Route>\n\n          <Route exact path='/Login'>\n            <Login />\n          </Route>\n\n          <Auth>\n            <Switch>\n\n              <Route path='/'>\n              \n              <Home />\n\n              </Route>\n\n            </Switch>\n          </Auth>\n        </Switch>\n      </Router>\n    );\n  }\n}\n\nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport './components/App.css';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}