(this.webpackJsonphelloworld=this.webpackJsonphelloworld||[]).push([[0],{196:function(e,t){e.exports=["C","C#","C++","CoffeeScript","ECMAScript","Go","Java","NodeJS","PHP","Python","Ruby","Rust","Scala","Swift","Unity","TypeScript","JavaScript","Angular","ASP.NET","Backbone.js","Bootstrap","Bulma","Django","Laravel","React","Ruby on Rails","Silverstripe","Spring","UIKit","Vue.js","Apache","Nginx","HTML","CSS","UnrealEngine","GraphQL","MariaDB","MongoDB","MySQL","PostgreSQL","Redis","SQLite","jQuery","Semantic UI","TailWind CSS","Material-UI","VBA","Git","WordPress","Homebrew","npm","Yarn","Vscode","GitHub","Atom","AWS","Docker","Firebase","COBOL","Perl","Linux","GCP"].map((function(e,t){return{id:t,name:e}}))},202:function(e,t,a){e.exports=a(298)},207:function(e,t,a){},298:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a.n(s),o=a(18),i=a.n(o),r=(a(207),a(55),a(7)),l=a(8),c=a(10),m=a(9),p=a(5),u=a.n(p),d=a(4),h=new function e(){var t=this;Object(r.a)(this,e),this.isLoggedIn=function(){return"true"===t.get("isLoggedIn")},this.LoggedUser=function(){return t.get("account")},this.set=function(e,t){return localStorage.setItem(e,t)},this.get=function(e){return t.getLocalStorage(e)},this.getLocalStorage=function(e){var t=localStorage.getItem(e);return t||null},this.login=function(e,a){return u.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return t.set("account",e),t.set("isLoggedIn",!0),t.set("password",a),s.abrupt("return",!0);case 4:case"end":return s.stop()}}),null,null,null,Promise)},this.logout=function(){return u.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:t.isLoggedIn()&&t.set("isLoggedIn",!1);case 1:case"end":return e.stop()}}),null,null,null,Promise)}},g=a(16),v=a(45),f=a(172),E=a.n(f),b=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).logoutUser=function(){return u.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.a.awrap(h.logout());case 3:s.props.history.push({pathname:"/Toppage"}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),s.setState({errMessage:"\u30ed\u30b0\u30a2\u30a6\u30c8\u5931\u6557\u3057\u307e\u3057\u305f"});case 9:case"end":return e.stop()}}),null,null,[[0,6]],Promise)},s.returnHome=s.returnHome.bind(Object(d.a)(s)),s}return Object(l.a)(a,[{key:"returnHome",value:function(){this.props.history.push({pathname:"/",state:{isHome:!0}})}},{key:"render",value:function(){return n.a.createElement("header",null,n.a.createElement("div",{className:"header-wrapper"},n.a.createElement("img",{onClick:this.returnHome,alt:"Headeraaa",className:"header-image",src:"/image/troument-logo.svg"}),h.isLoggedIn()?n.a.createElement("button",{className:"logout-button",onClick:this.logoutUser},"\u30ed\u30b0\u30a2\u30a6\u30c8",n.a.createElement(E.a,{className:"logout-button-icon"})):n.a.createElement("ul",{className:"nav-wrapper"},n.a.createElement("li",{className:"header-nav"},n.a.createElement(g.b,{to:"/Register"},"\u4f1a\u54e1\u767b\u9332")),n.a.createElement("li",{className:"header-nav"},n.a.createElement(g.b,{to:"/Login"},"\u30ed\u30b0\u30a4\u30f3")))))}}]),a}(n.a.Component),y=Object(v.g)(b),O=(a(90),function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{className:"wrappers"},n.a.createElement("div",{className:"maintitle-wrapper wrapper-margin"},n.a.createElement("h1",{className:"maintitle"},n.a.createElement("p",{className:"maintitle-text"},"\u3042\u306a\u305f\u304c\u89e3\u6c7a\u3057\u305f"),n.a.createElement("p",{className:"maintitle-text"},"\u60a9\u307f\u304c"),n.a.createElement("p",{className:"maintitle-text"},"\u8ab0\u304b\u306e\u5f79\u306b\u7acb\u3064")),n.a.createElement("img",{alt:"Toppage",className:"maintitle-image",src:"./image/toppage-main.svg"})),n.a.createElement("div",{className:"about-troument wrapper-margin"},n.a.createElement("h2",{className:"wrapper-title"},"Troument\u3068\u306f..."),n.a.createElement("p",{className:"about-troument-text"},"\u30a8\u30f3\u30b8\u30cb\u30a2\u306e\u4eba\u304c\u52c9\u5f37\u4e2d\u306b\u51fa\u3066\u304d\u305f\u60a9\u307f\u3092\u89e3\u6c7a\u3057"),n.a.createElement("p",{className:"about-troument-text"},"\u8a18\u9332\u3057\u3066\u307f\u3093\u306a\u3067\u5171\u6709\u3059\u308b\u30a2\u30d7\u30ea\u3067\u3059"),n.a.createElement("img",{alt:"Arrow",className:"down-arrow-icon",src:"./image/down-arrow.svg"})),n.a.createElement("div",{className:"todo-troument-wrapper wrapper-margin"},n.a.createElement("h2",{className:"wrapper-title"},"Troument\u3067\u3067\u304d\u308b\u3053\u3068"),n.a.createElement("div",{className:"todo-troument-content"},n.a.createElement("p",{className:"todo-troument-number"},"1"),n.a.createElement("h3",{className:"todo-troument-head"},"\u60a9\u307f\u6295\u7a3f\u6a5f\u80fd"),n.a.createElement("p",{className:"todo-troument-text"},"\u3069\u3046\u3084\u3063\u305f\u3089\u5b9f\u73fe\u3067\u304d\u308b\u306e\u3060\u308d\u3046\uff1f"),n.a.createElement("p",{className:"todo-troument-text"},"\u306a\u3093\u3067\u3053\u3046\u306a\u308b\u306e\u3060\u308d\u3046\uff1f"),n.a.createElement("p",{className:"todo-troument-text"},"\u306a\u3069\u52c9\u5f37\u3057\u3066\u3044\u3066\u60a9\u3093\u3060\u3053\u3068\u3092\u30e1\u30e2"),n.a.createElement("img",{alt:"Worry",className:"todo-troument-image",src:"./image/toppage-1.svg"})),n.a.createElement("div",{className:"todo-troument-content"},n.a.createElement("p",{className:"todo-troument-number"},"2"),n.a.createElement("h3",{className:"todo-troument-head"},"\u89e3\u6c7a\u8a18\u9332\u6a5f\u80fd"),n.a.createElement("p",{className:"todo-troument-text"},"\u308f\u304b\u3089\u306a\u304b\u3063\u305f\u3053\u3068\u304c\u89e3\u6c7a\uff01"),n.a.createElement("p",{className:"todo-troument-text"},"\u3069\u3046\u3084\u3063\u3066\u89e3\u6c7a\u3057\u305f\u304b\u8a18\u9332\u3057\u3066\u304a\u304d"),n.a.createElement("p",{className:"todo-troument-text"},"\u30ca\u30ec\u30c3\u30b8\u3092\u8caf\u3081\u3066\u3044\u3053\u3046"),n.a.createElement("img",{alt:"Resolve",className:"todo-troument-image",src:"./image/toppage-2.svg"})),n.a.createElement("div",{className:"todo-troument-content"},n.a.createElement("p",{className:"todo-troument-number"},"3"),n.a.createElement("h3",{className:"todo-troument-head"},"\u691c\u7d22\u6a5f\u80fd"),n.a.createElement("p",{className:"todo-troument-text"},"\u3053\u308c\u306f\u3069\u3046\u3057\u305f\u3089\u3044\u3044\u306e\u3060\u308d\u3046\u304b... "),n.a.createElement("p",{className:"todo-troument-text"},"\u305d\u3093\u306a\u3068\u304d\u306f\u904e\u53bb\u306e\u30ca\u30ec\u30c3\u30b8\u3092\u691c\u7d22\u3057\u3066\u307f\u3088\u3046\uff01"),n.a.createElement("img",{alt:"Search",className:"todo-troument-image",src:"./image/toppage-4.svg"}))))}}]),a}(n.a.Component)),N=a(30),w=a(21),C=function e(){Object(r.a)(this,e)};C.formValidate=function(e,t){switch(e){case"title":return(n=t)?n.length>40?"\u30bf\u30a4\u30c8\u30eb\u306f50\u6587\u5b57\u4ee5\u5185\u3067\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044":"":"\u30bf\u30a4\u30c8\u30eb\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044";case"tags":return 0===(s=t).length?"\u30bf\u30b0\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044":s.length>5?"\u30bf\u30b0\u306f5\u3064\u307e\u3067\u3057\u304b\u767b\u9332\u3067\u304d\u307e\u305b\u3093":"";case"savedData":return 0===t.blocks.length?"\u5185\u5bb9\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044":"";case"account":return t?"":"\u767b\u9332\u3059\u308b\u540d\u524d\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044";case"password":return(a=t).match(/^[A-Za-z0-9]*$/)?a?a.length<4?"\u30d1\u30b9\u30ef\u30fc\u30c9\u306f4\u6587\u5b57\u4ee5\u4e0a\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044":"":"\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044":"\u534a\u89d2\u82f1\u6570\u5b57\u4ee5\u5916\u306e\u6587\u5b57\u304c\u5165\u529b\u3055\u308c\u3066\u3044\u307e\u3059"}var a,s,n};var S=C,k=a(39),x=a.n(k),D=a(47),j=a.n(D),_=x.a.create({baseURL:"https://troument-api.net"}),L=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).submitCheck=function(){var e,t,a=s.state.loading;return e=!(""===s.state.input.account|""===s.state.input.password),t=!(""!==s.state.message.account|""!==s.state.message.password),e&&t&&!a&&!s.state.isOpen},s.handleClose=function(){s.setState({isOpen:!1})},s.state={input:{account:"",password:""},message:{account:"",password:""},loading:!1,isOpen:!1},s.createUser=s.createUser.bind(Object(d.a)(s)),s}return Object(l.a)(a,[{key:"createUser",value:function(e){var t=this;e.preventDefault(),_.post("/api/user_create",{user_name:this.state.input.account,password:this.state.input.password}).then((function(e){"\u540c\u4e00\u306e\u30a2\u30ab\u30a6\u30f3\u30c8\u540d\u304c\u5b58\u5728\u3057\u307e\u3059"===e.data?t.setState({isOpen:!t.state.isOpen}):t.props.history.push("/login")})).catch((function(e){console.error(new Error(e))}))}},{key:"inputCheck",value:function(e){e.preventDefault();var t=e.target.name,a=e.target.value,s=this.state,n=s.input,o=s.message;this.setState({input:Object(w.a)({},n,Object(N.a)({},t,e.target.value)),message:Object(w.a)({},o,Object(N.a)({},t,S.formValidate(t,a)))})}},{key:"render",value:function(){var e=this,t=this.state,a=(t.input,t.message);return n.a.createElement("div",{className:"wrappers"},n.a.createElement("div",null,n.a.createElement("h1",{className:"create-account"},"\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u4f5c\u6210"),n.a.createElement("form",{className:"account-form"},n.a.createElement("div",{className:"form-label-wrap"},n.a.createElement("section",{style:{position:"relative"}},n.a.createElement("label",{className:"account-form-label"},"\u30a2\u30ab\u30a6\u30f3\u30c8\u540d",n.a.createElement("span",{className:"form-span"},"\u5fc5\u9808")),a.account&&n.a.createElement("span",{style:{color:"red",fontSize:8,position:"absolute",right:0,bottom:0}},a.account)),n.a.createElement(j.a,{isOpen:this.state.isOpen,place:"above",body:n.a.createElement("div",{className:"popover"},n.a.createElement("p",{className:"popover-text"},"\u540c\u4e00\u306e\u30a2\u30ab\u30a6\u30f3\u30c8\u540d\u304c\u5b58\u5728\u3057\u307e\u3059"),n.a.createElement("p",{className:"popover-text"},"\u5225\u306e\u306b\u3057\u3066\u304f\u3060\u3055\u3044")),enterExitTransitionDurationMs:800},n.a.createElement("input",{className:"form-input",type:"text",name:"account",value:this.state.input.account,onChange:function(t){return e.inputCheck(t)},onClick:this.handleClose})),n.a.createElement("span",{className:"account-form-bg"})),n.a.createElement("div",{className:"form-label-wrap"},n.a.createElement("label",{className:"account-form-label"},"\u30d1\u30b9\u30ef\u30fc\u30c9",n.a.createElement("span",{className:"form-span"},"\u5fc5\u9808")),n.a.createElement("section",{style:{position:"relative"}},a.password&&n.a.createElement("span",{style:{color:"red",fontSize:8,position:"absolute",right:0,bottom:0}},a.password)),n.a.createElement("input",{className:"form-input",type:"text",name:"password",value:this.state.input.password,onChange:function(t){return e.inputCheck(t)},placeholder:"\u534a\u89d2\u82f1\u6570\u5b57\u306e\u307f"}),n.a.createElement("span",{className:"account-form-bg"})),n.a.createElement("button",{className:"register-button",type:"submit",disabled:!this.submitCheck(),onClick:this.createUser},"\u767b\u9332"))))}}]),a}(n.a.Component),F=Object(v.g)(L),T={marginTop:20,fontSize:12},U={margin:0},R=x.a.create({baseURL:"https://troument-api.net"}),M=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).loginUser=function(e){return u.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:e.preventDefault(),R.post("/api/user_login",{user_name:s.state.input.account,password:s.state.input.password}).then((function(e){"string"===typeof e.data?"\u30d1\u30b9\u30ef\u30fc\u30c9\u304c\u4e00\u81f4\u3057\u3066\u3044\u307e\u305b\u3093"===e.data?s.setState({isPassOpen:!s.state.isOpen,response_message:e.data}):s.setState({isOpen:!s.state.isOpen,response_message:e.data}):(h.login(s.state.input.account,s.state.input.password),s.props.history.push({pathname:"/"}))})).catch((function(e){console.error(new Error(e))}));case 2:case"end":return t.stop()}}),null,null,null,Promise)},s.submitCheck=function(){var e,t,a=s.state.loading;return e=!(""===s.state.input.account|""===s.state.input.password),t=!(""!==s.state.message.account|""!==s.state.message.password),e&&t&&!a&&!s.state.isOpen},s.handleClose=function(){s.setState({isOpen:!1,isPassOpen:!1})},s.state={input:{account:"",password:""},message:{account:"",password:""},loading:!1,isOpen:!1,isPassOpen:!1},s.loginUser=s.loginUser.bind(Object(d.a)(s)),s}return Object(l.a)(a,[{key:"inputCheck",value:function(e){e.preventDefault();var t=e.target.name,a=e.target.value,s=this.state,n=s.input,o=s.message;this.setState({input:Object(w.a)({},n,Object(N.a)({},t,e.target.value)),message:Object(w.a)({},o,Object(N.a)({},t,S.formValidate(t,a)))})}},{key:"render",value:function(){var e=this,t=this.state,a=(t.input,t.message);return n.a.createElement("div",{className:"wrappers"},n.a.createElement("h1",{className:"login"},"\u30ed\u30b0\u30a4\u30f3"),n.a.createElement("form",{className:"account-form"},n.a.createElement("div",{className:"form-label-wrap"},n.a.createElement("label",{className:"account-form-label"},"\u30a2\u30ab\u30a6\u30f3\u30c8\u540d",n.a.createElement("span",{className:"form-span"},"\u5fc5\u9808")),n.a.createElement(j.a,{isOpen:this.state.isOpen,place:"above",body:n.a.createElement("div",{className:"popover"},n.a.createElement("p",{className:"popover-text"},this.state.response_message)),enterExitTransitionDurationMs:800},n.a.createElement("input",{className:"form-input",type:"text",name:"account",value:this.state.input.account,onChange:function(t){return e.inputCheck(t)},onClick:this.handleClose})),n.a.createElement("span",{className:"account-form-bg"})),n.a.createElement("div",{className:"form-label-wrap"},n.a.createElement("label",{className:"account-form-label"},"\u30d1\u30b9\u30ef\u30fc\u30c9",n.a.createElement("span",{className:"form-span"},"\u5fc5\u9808")),n.a.createElement("section",{style:{position:"relative"}},a.password&&n.a.createElement("span",{style:{color:"red",fontSize:8,position:"absolute",right:0,bottom:0}},a.password)),n.a.createElement(j.a,{isOpen:this.state.isPassOpen,place:"above",body:n.a.createElement("div",{className:"popover"},n.a.createElement("p",{className:"popover-text"},this.state.response_message)),enterExitTransitionDurationMs:800},n.a.createElement("input",{className:"form-input password-input",type:"text",name:"password",value:this.state.input.password,onChange:function(t){return e.inputCheck(t)},onClick:this.handleClose,placeholder:"\u534a\u89d2\u82f1\u6570\u5b57\u306e\u307f"})),n.a.createElement("span",{className:"account-form-bg"})),n.a.createElement("button",{className:"login-button",type:"submit",disabled:!this.submitCheck(),onClick:this.loginUser},"\u30ed\u30b0\u30a4\u30f3")),n.a.createElement("div",{style:T},n.a.createElement("p",{style:U},"\u30a2\u30ab\u30a6\u30f3\u30c8\u306f\u6301\u3063\u3066\u3044\u307e\u3059\u304b\uff1f"),n.a.createElement("p",{style:U},"\u307e\u3060\u306e\u65b9\u306f\u3053\u3061\u3089\u304b\u3089\u767b\u9332\u304a\u9858\u3044\u3057\u307e\u3059 \u21e8 ",n.a.createElement(g.b,{to:"/Register"},"\u4f1a\u54e1\u767b\u9332"))))}}]),a}(n.a.Component),P=Object(v.g)(M),I=function(e){return h.isLoggedIn()?e.children:n.a.createElement(v.a,{to:"/Toppage"})},A=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).state={todolists:s.props.todolists},s}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return n.a.createElement(n.a.Fragment,null,n.a.createElement("nav",{className:"navigation"},n.a.createElement("ul",{className:"nav-items"},n.a.createElement("li",{className:"nav-item",onClick:function(){e.props.clickFormClose()}},n.a.createElement(g.b,{to:"/"},n.a.createElement("img",{src:"/icon/home2.svg",className:"nav-item-icon nav-item-home",alt:""}),n.a.createElement("span",{className:"nav-item-text"},"\u30db\u30fc\u30e0"))),n.a.createElement("li",{className:"nav-item",onClick:function(){e.props.postFormOpen()}},n.a.createElement(g.b,{to:"/"},n.a.createElement("img",{className:"nav-item-icon nav-item-post",alt:"",src:"/icon/test1.svg"}),n.a.createElement("span",{className:"nav-item-text"},"\u6295\u7a3f"))),n.a.createElement("li",{className:"nav-item"},n.a.createElement(g.b,{to:"/Search"},n.a.createElement("img",{className:"nav-item-icon nav-item-search",alt:"",src:"/icon/search.svg"}),n.a.createElement("span",{className:"nav-item-text"},"\u691c\u7d22"))),n.a.createElement("li",{className:"nav-item"},n.a.createElement(g.b,{to:"/Mypage"},n.a.createElement("img",{className:"nav-item-icon nav-item-person",alt:"",src:"/icon/person.svg"}),n.a.createElement("span",{className:"nav-item-text"},"\u30de\u30a4\u30da\u30fc\u30b8"))))))}}]),a}(n.a.Component),W=a(179),G=a.n(W),z=a(178),B=a.n(z),H=a(68),V=a(176),J=a.n(V),Q=a(177),q=a.n(Q),K=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).state={todolists:s.props.todolists,userinfo:s.props.userinfo,isGood:!1,isMypage:s.props.isMypage,isSearch:s.props.isSearch,activePage:15},s.callDisplayDetail=s.callDisplayDetail.bind(Object(d.a)(s)),s.handleGoodChange=s.handleGoodChange.bind(Object(d.a)(s)),s.goodCheck=s.goodCheck.bind(Object(d.a)(s)),s}return Object(l.a)(a,[{key:"callDisplayDetail",value:function(e){this.props.history.push({pathname:"/"}),this.props.actionMethod.displayDetail(e)}},{key:"componentDidMount",value:function(){this.goodCheck()}},{key:"goodCheck",value:function(){var e=this;return u.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:this.props.detail_todolist&&(-1===this.props.detail_todolist.user.goodlist.findIndex((function(t){return t===e.props.detail_todolist._id}))?this.setState({isGood:!1,isGoodCheck:!0}):this.setState({isGood:!0,isGoodCheck:!0}));case 1:case"end":return t.stop()}}),null,this,null,Promise)}},{key:"handleGoodChange",value:function(){var e=this;return u.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:this.setState((function(t){return{isGood:!e.state.isGood}}),(function(){return e.props.actionMethod.handleGoodCount(e.props._id,!e.state.isGood)}));case 1:case"end":return t.stop()}}),null,this,null,Promise)}},{key:"render",value:function(){var e,t=this;return e=this.props.isOpenDetail?n.a.createElement("div",{className:"contents-wrappers "+(this.state.isMypage?"mypage-diplay-wrapper":"")},n.a.createElement("div",{className:"contents-wrapper"},n.a.createElement("div",{className:"content-icon-wrap"},n.a.createElement(H.a,{size:"50px",round:"10px",className:"content-icon",src:"https://troument.s3-ap-northeast-1.amazonaws.com/"+this.props.detail_todolist.user.thumbnail,alt:""})),n.a.createElement("div",{className:"content-wrapper"},n.a.createElement("div",{className:"content-image-time"},this.props.detail_todolist.status?n.a.createElement("img",{className:"content-image display-title-hukidasi",src:"/image/resolve.svg",alt:""}):n.a.createElement("img",{className:"content-image display-title-hukidasi",src:"/image/worry.svg",alt:""}),n.a.createElement("span",{className:"content-time"},this.props.actionMethod.createTime(this.props.detail_todolist.time))),n.a.createElement("div",{className:"content-text-tag"},n.a.createElement("p",{className:"content-text"},this.props.detail_todolist.title),this.props.detail_todolist.tag&&this.props.detail_todolist.tag.map((function(e,t){return n.a.createElement("p",{key:t,className:"react-tags__display-tag"},e.name)}))),this.props.detail_todolist.status&&n.a.createElement("p",{className:"content-count"},this.props.detail_todolist.count,"\u4eba\u304c\u611f\u8b1d\u3057\u3066\u3044\u307e\u3059"))),!this.props.isUpdateFormOpen&&n.a.createElement("div",{className:"content-button-wrapper"},this.props.detail_todolist.status&&(this.state.isGood?n.a.createElement("button",{className:"content-button",onClick:this.handleGoodChange},"\u53c2\u8003\u306b\u306a\u3063\u305f",n.a.createElement(J.a,{className:"content-button-icon",style:{fontSize:18}})):n.a.createElement("button",{className:"content-button",onClick:this.handleGoodChange},"\u53c2\u8003\u306b\u306a\u3063\u305f",n.a.createElement(q.a,{className:"content-button-icon",style:{fontSize:18}}))),this.props.login_user===this.props.detail_todolist.username&&n.a.createElement("div",{className:"content-edit-button"},n.a.createElement("button",{className:"content-button",onClick:this.props.actionMethod.updateFormOpen},"\u7de8\u96c6",n.a.createElement(B.a,{className:"content-button-icon",style:{fontSize:18}})),n.a.createElement("button",{className:"content-button",onClick:this.props.deleteDialogOpen},n.a.createElement("span",{className:"content-button-text"},"\u524a\u9664"),n.a.createElement(G.a,{className:"content-button-icon",style:{fontSize:18}}))))):n.a.createElement(n.a.Fragment,null,this.props.todolists.map((function(e,a){return n.a.createElement("div",{key:a,className:"contents-wrappers "+(t.state.isSearch?"search-contents-wrappers":t.state.isMypage?"mypage-contents-wrappers":"")},n.a.createElement("div",{onClick:function(){t.callDisplayDetail(e.worry_id)},className:"contents-wrapper"},n.a.createElement("div",{className:"content-icon-wrap"},n.a.createElement(H.a,{size:"50px",round:"10px",src:"https://troument.s3-ap-northeast-1.amazonaws.com/"+e.user.thumbnail,alt:""})),n.a.createElement("div",{className:"content-wrapper"},n.a.createElement("div",{className:"content-image-time"},e.status?n.a.createElement("img",{className:"content-image display-title-hukidasi",src:"/image/resolve.svg",alt:""}):n.a.createElement("img",{className:"dcontent-image display-title-hukidasi",src:"/image/worry.svg",alt:""}),n.a.createElement("span",{className:"content-time"},t.props.actionMethod.createTime(e.time))),n.a.createElement("div",{className:"content-text-tag"},n.a.createElement("p",{className:"content-text"},e.title),e.tag&&e.tag.map((function(e,t){return n.a.createElement("p",{key:t,className:"react-tags__display-tag"},e.name)}))),e.status?n.a.createElement("p",{className:"content-count"},e.count,"\u4eba\u304c\u611f\u8b1d\u3057\u3066\u3044\u307e\u3059"):n.a.createElement("p",{className:"content-count"},"\u60a9\u307f\u4e2d...\u3000\u5fdc\u63f4\u3057\u3066\u304f\u3060\u3055\u3044"))))}))),n.a.createElement(n.a.Fragment,null,e)}}]),a}(n.a.Component),$=Object(v.g)(K),Y=a(41),Z=a(181),X=a.n(Z),ee=a(182),te=a.n(ee),ae=a(87),se=a.n(ae),ne=a(183),oe=a.n(ne),ie=a(184),re=a.n(ie),le=a(185),ce=a.n(le),me=a(186),pe=a.n(me),ue=a(187),de=a.n(ue),he=a(188),ge=a.n(he),ve=a(189),fe=a.n(ve),Ee=a(190),be=a.n(Ee),ye=a(191),Oe=a.n(ye),Ne=a(192),we=a.n(Ne),Ce=a(193),Se=a.n(Ce),ke=a(194),xe=a.n(ke),De={embed:{class:X.a,config:{youtube:!0},inlineToolbar:!0},table:{class:te.a,inlineToolbar:!0},paragraph:{class:se.a,inlineToolbar:!0},list:{class:oe.a,inlineToolbar:!0},warning:{class:re.a,inlineToolbar:!0,config:{titlePlaceholder:"Title",messagePlaceholder:"Message"}},code:{class:ce.a},linkTool:{class:pe.a,inlineToolbar:!0,config:{endpoint:"http://localhost:8080/fetchUrl"}},raw:{class:de.a,inlineToolbar:!0},header:{class:ge.a,config:{placeholder:"Enter a header"},inlineToolbar:!0},quote:{class:fe.a,inlineToolbar:!0,config:{quotePlaceholder:"\u5f15\u7528\u3059\u308b",captionPlaceholder:"\u7b46\u8005 or \u5f15\u7528\u5143"}},marker:be.a,checklist:{class:Oe.a,inlineToolbar:!0},delimiter:{class:we.a,inlineToolbar:!0},inlineCode:{class:Se.a,inlineToolbar:!0},simpleImage:{class:xe.a,inlineToolbar:!0}},je=a(195),_e=a.n(je),Le=a(196),Fe=a.n(Le),Te=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).submit=function(e){return u.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),s.props.startSending(),t.next=4,u.a.awrap(s.togglePopover());case 4:setTimeout(s.props.endSending,1e3),s.props.handleOpen(),setTimeout(s.props.handleClose,1500);case 7:case"end":return t.stop()}}),null,null,null,Promise)},s.state={isOpen:!1,detail_todolist:s.props.detail_todolist||""},s.togglePopover=s.togglePopover.bind(Object(d.a)(s)),s}return Object(l.a)(a,[{key:"togglePopover",value:function(){var e,t,a,s,n,o,i,r;return u.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:if(e=this.props.title,t=this.props.tags,a=this.props.savedData,s=this.props.actionMethod||"",n=s.handleWorryUpdate,o=s.handleWorryAdd,i=s.handleResolveUpdate,r=s.handleResolveAdd,this.setState({isOpen:!this.state.isOpen}),!this.props.isUpdateFormOpen){l.next=15;break}if(!this.state.detail_todolist.status){l.next=11;break}return l.next=9,u.a.awrap(i(a));case 9:l.next=13;break;case 11:return l.next=13,u.a.awrap(n(e,t,a));case 13:l.next=22;break;case 15:if(!this.props.isOpenDetail){l.next=20;break}return l.next=18,u.a.awrap(r(a));case 18:l.next=22;break;case 20:return l.next=22,u.a.awrap(o(e,t,a));case 22:case"end":return l.stop()}}),null,this,null,Promise)}},{key:"render",value:function(){var e,t=(this.props.actionMethod||"").clickFormClose;return this.props.isOpenDetail&&!this.props.isFormOpen?this.props.login_user===this.props.detail_todolist.username&&(e=n.a.createElement("div",{className:"button-wrapper"},n.a.createElement("button",{onClick:this.props.actionMethod.resolveFormOpen,className:"button"},"\u89e3\u6c7a\u6295\u7a3f"))):e=n.a.createElement("div",{className:"button-wrapper"},n.a.createElement("button",{onClick:t,className:"first-button button"},"\u30ad\u30e3\u30f3\u30bb\u30eb"),n.a.createElement(j.a,{isOpen:this.state.isOpen,body:this.props.isResolveFormOpen?this.props.handleResolveUpdate?n.a.createElement("div",{className:"popover"},n.a.createElement("p",{className:"popover-text"},"\u4fee\u6b63\u304c\u5b8c\u4e86\u3057\u307e\u3057\u305f\uff01"),n.a.createElement("p",{className:"popover-text"},"\u305d\u306e\u8abf\u5b50\uff01")):n.a.createElement("div",{className:"popover"},n.a.createElement("p",{className:"popover-text"},"\u304a\u75b2\u308c\u69d8\u3067\u3059\uff01"),n.a.createElement("p",{className:"popover-text"},"\u305d\u306e\u8abf\u5b50\uff01")):this.props.handleWorryUpdate?n.a.createElement("div",{className:"popover"},n.a.createElement("p",{className:"popover-text"},"\u4fee\u6b63\u304c\u5b8c\u4e86\u3057\u307e\u3057\u305f"),n.a.createElement("p",{className:"popover-text"},"\u9811\u5f35\u308c\u30fc\uff01")):n.a.createElement("div",{className:"popover"},n.a.createElement("p",{className:"popover-text"},"\u9811\u5f35\u3063\u3066\u304f\u3060\u3055\u3044\uff01"),n.a.createElement("p",{className:"popover-text"},"\u5fdc\u63f4\u3057\u3066\u3044\u307e\u3059\uff01")),place:"above",enterExitTransitionDurationMs:800},(this.props.isStatus,n.a.createElement("button",{disabled:!this.props.canSubmit(),onClick:this.submit,type:"submit",className:"button"},"\u6295\u7a3f")))),n.a.createElement(n.a.Fragment,null,e)}}]),a}(n.a.Component),Ue=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(e){var s;Object(r.a)(this,a),(s=t.call(this,e)).canSubmit=function(){var e,t,a,n,o,i,r=s.state.isSending;return e=""!==s.state.input.title,t=""===s.state.message.title,o=0!==s.state.tags.length,i=""===s.state.message.tag,a=""!==s.state.savedData&&0!==s.state.savedData.blocks.length,n=""===s.state.message.savedData,e&&t&&a&&n&&o&&i&&!r},s.startSending=function(){s.setState({isSending:!0})},s.handleBlur=function(){var e=s.state.message;s.setState({message:Object(w.a)({},e,{tag:S.formValidate("tags",s.state.tags)})})},s.handleBlurTitle=function(e){var t=e.target.name,a=e.target.value,n=s.state.message;s.setState({message:Object(w.a)({},n,Object(N.a)({},t,S.formValidate(t,a)))})},s.saveEditor=function(){var e,t;return u.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return e=s.state.message,a.next=3,u.a.awrap(s.editorInstance.save());case 3:t=a.sent,s.setState({message:Object(w.a)({},e,{savedData:S.formValidate("savedData",t)}),savedData:t});case 5:case"end":return a.stop()}}),null,null,null,Promise)};var n=s.props.detail_todolist,o=void 0===n?"":n,i=o.title,l=void 0===i?"":i,c=o.tag,m=void 0===c?"":c,p=o.worry,h=void 0===p?"":p,g=o.status,v=void 0===g?"":g;return s.state={clickbutton:!1,form:!0,input:{title:l},message:{title:"",tag:"",worry:"",resolve:"",savedData:""},isSending:!1,tags:m||[],savedData:h,status:v,suggestions:Fe.a},s.changeInputText=s.changeInputText.bind(Object(d.a)(s)),s.saveEditor=s.saveEditor.bind(Object(d.a)(s)),s.canSubmit=s.canSubmit.bind(Object(d.a)(s)),s.startSending=s.startSending.bind(Object(d.a)(s)),s.endSending=s.endSending.bind(Object(d.a)(s)),s}return Object(l.a)(a,[{key:"changeInputText",value:function(e){e.preventDefault();var t=e.target.name,a=e.target.value,s=this.state,n=s.input,o=s.message;this.setState({input:Object(w.a)({},n,Object(N.a)({},t,e.target.value)),message:Object(w.a)({},o,Object(N.a)({},t,S.formValidate(t,a)))})}},{key:"endSending",value:function(){this.setState({isSending:!1})}},{key:"handleDelete",value:function(e){var t=this.state.tags.slice(0),a=this.state.message;t.splice(e,1),this.setState({message:Object(w.a)({},a,{tag:S.formValidate("tags",t)}),tags:t})}},{key:"handleAddition",value:function(e){var t=[].concat(this.state.tags,e),a=this.state.message;this.setState({message:Object(w.a)({},a,{tag:S.formValidate("tags",t)}),tags:t})}},{key:"render",value:function(){var e,t=this,a=this.state,s=a.input,o=a.message;return e=a.status||this.props.isResolveFormOpen?n.a.createElement("form",{className:"form-wrapper"},n.a.createElement("section",{className:"form-wrapper-sec",style:{position:"relative"}},n.a.createElement("label",null,"\u3069\u3046\u3084\u3063\u3066\u89e3\u6c7a\u3057\u307e\u3057\u305f\u304b"),o.savedData&&n.a.createElement("span",{style:{color:"red",fontSize:8,position:"absolute",right:0,top:3}},o.savedData)),n.a.createElement("div",{className:"resolvetest"},this.props.detail_todolist?n.a.createElement(Y.a,{onChange:this.saveEditor,instanceRef:function(e){return t.editorInstance=e},data:this.props.detail_todolist.resolve,tools:De,enableReInitialize:!1}):n.a.createElement(Y.a,{onChange:this.saveEditor,instanceRef:function(e){return t.editorInstance=e},tools:De,enableReInitialize:!1}),n.a.createElement(Te,Object.assign({},this.props,{isFormOpen:this.props.isFormOpen,savedData:this.state.savedData,sendMethod:this.sendMethod,canSubmit:this.canSubmit,startSending:this.startSending,endSending:this.endSending})))):n.a.createElement("form",{className:"form-wrapper"},n.a.createElement("section",{className:"form-wrapper-sec",style:{position:"relative"}},n.a.createElement("label",null,"\u30bf\u30a4\u30c8\u30eb"),n.a.createElement("span",{className:"form-span"},"\u5fc5\u9808"),o.title&&n.a.createElement("span",{style:{color:"red",fontSize:8,position:"absolute",right:0,top:3}},o.title),this.state.input.title?n.a.createElement("input",{value:s.title,type:"text",name:"title",onChange:function(e){return t.changeInputText(e)},onBlur:this.handleBlurTitle,className:"input-area",placeholder:"\u60a9\u307f\u306e\u30bf\u30a4\u30c8\u30eb\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044 \u203b50\u6587\u5b57\u4ee5\u5185"}):n.a.createElement("input",{name:"title",value:s.title,onBlur:this.handleBlurTitle,onChange:function(e){return t.changeInputText(e)},className:"input-area",placeholder:"\u60a9\u307f\u306e\u30bf\u30a4\u30c8\u30eb\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044 \u203b50\u6587\u5b57\u4ee5\u5185"})),n.a.createElement("section",{className:"form-wrapper-sec",style:{position:"relative"}},n.a.createElement("label",null,"\u30bf\u30b0"),n.a.createElement("span",{className:"form-span"},"\u5fc5\u9808"),o.tag&&n.a.createElement("span",{style:{color:"red",fontSize:8,position:"absolute",right:0,top:3}},o.tag),n.a.createElement(_e.a,{tags:this.state.tags,suggestions:this.state.suggestions,onDelete:this.handleDelete.bind(this),onAddition:this.handleAddition.bind(this),onBlur:this.handleBlur,placeholderText:"\u30bf\u30b0\u3092\u8ffd\u52a0\u3057\u3066\u304f\u3060\u3055\u3044"})),n.a.createElement("section",{className:"form-wrapper-sec",style:{position:"relative"}},n.a.createElement("label",null,"\u60a9\u307f"),n.a.createElement("span",{className:"form-span"},"\u5fc5\u9808"),o.savedData&&n.a.createElement("span",{style:{color:"red",fontSize:8,position:"absolute",right:0,top:3}},o.savedData),this.props.detail_todolist?n.a.createElement(Y.a,{onChange:this.saveEditor,instanceRef:function(e){return t.editorInstance=e},data:this.props.detail_todolist.worry,tools:De,enableReInitialize:!1}):n.a.createElement(Y.a,{onChange:this.saveEditor,instanceRef:function(e){return t.editorInstance=e},tools:De,enableReInitialize:!1})),n.a.createElement(Te,Object.assign({},this.props,{title:s.title,tags:this.state.tags,savedData:this.state.savedData,sendMethod:this.sendMethod,canSubmit:this.canSubmit,startSending:this.startSending,endSending:this.endSending,handleOpen:this.props.handleOpen,handleClose:this.props.handleClose}))),n.a.createElement(n.a.Fragment,null,e)}}]),a}(n.a.Component),Re=a(331),Me=a(332),Pe=a(328),Ie=a(326),Ae=a(327),We=a(325),Ge=x.a.create({baseURL:"https://troument-api.net"}),ze=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).deleteDialogOpen=function(){s.setState({isDeleteDialogOpen:!0})},s.deleteDialogClose=function(){s.setState({isDeleteDialogOpen:!1})},s.getReadOnly=function(){var e=document.getElementById("worry"),t=document.getElementById("resolve");e.style.pointerEvents="none";try{t.style.pointerEvents="none"}catch(n){}for(var a=document.querySelectorAll(".ce-toolbar"),s=0;s<a.length;s++)a[s].style.display="none"},s.state={isUpdateFormOpen:!1,isDeleteDialogOpen:!1,isGoodCheck:!1,isGood:!1,isOpenDetail:s.props.isOpenDetail,isStatus:s.props.detail_todolist.status,detail_todolist:s.props.detail_todolist},s.listDelete=s.listDelete.bind(Object(d.a)(s)),s.deleteDialogOpen=s.deleteDialogOpen.bind(Object(d.a)(s)),s}return Object(l.a)(a,[{key:"listDelete",value:function(){this.props.actionMethod.handleTodolistsDelete(this.state.detail_todolist.worry_id),Ge.delete("/api/delete",{data:{worry_id:this.state.detail_todolist.worry_id}}).then((function(e){})).catch((function(e){console.error(new Error(e))})),this.props.actionMethod.clickFormClose()}},{key:"render",value:function(){var e,t=this,a=this.props.login_user;return e=this.state.isStatus?n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"detail-wrapper"},n.a.createElement("section",null,n.a.createElement("h1",{className:"detail-section"},"\u60a9\u307f\u306e\u8a73\u7d30")),n.a.createElement("div",{className:"detail-area"},n.a.createElement(Y.a,{onReady:this.getReadOnly,holder:"worry",data:this.state.detail_todolist.worry,enableReInitialize:!0,instanceRef:function(e){return t.editorInstance=e},tools:De},n.a.createElement("div",{id:"worry"}))),n.a.createElement("section",null,n.a.createElement("h1",{className:"detail-section"},"\u89e3\u6c7a\u8a73\u7d30")),n.a.createElement("div",{className:"detail-area"},n.a.createElement(Y.a,{holder:"resolve",data:this.state.detail_todolist.resolve,enableReInitialize:!0,instanceRef:function(e){return t.editorInstance=e},tools:De},n.a.createElement("div",{id:"resolve"}))))):n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"detail-wrapper"},n.a.createElement("section",null,n.a.createElement("h1",{className:"detail-section"},"\u60a9\u307f\u4e2d")),n.a.createElement("div",{className:"detail-area"},n.a.createElement(Y.a,{onReady:this.getReadOnly,holder:"worry",data:this.state.detail_todolist.worry,enableReInitialize:!0,instanceRef:function(e){return t.editorInstance=e},tools:De},n.a.createElement("div",{id:"worry"}))),n.a.createElement(Te,{actionMethod:this.props.actionMethod,isStatus:this.state.isStatus,detail_todolist:this.props.detail_todolist,login_user:a,isUpdateFormOpen:this.state.isUpdateFormOpen,isOpenDetail:this.state.isOpenDetail}))),n.a.createElement("div",{className:"display-title-wrapper"},n.a.createElement($,Object.assign({},this.props,{isOpenDetail:this.props.isOpenDetail,isGood:this.state.isGood,isUpdateFormOpen:this.state.isUpdateFormOpen,deleteDialogOpen:this.deleteDialogOpen,goodCheck:this.goodCheck,actionMethod:this.props.actionMethod,_id:this.state.detail_todolist._id})),e,n.a.createElement(Me.a,{open:this.state.isDeleteDialogOpen,onClose:this.deleteDialogClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},n.a.createElement(We.a,{id:"alert-dialog-title"},this.state.isStatus?"\u89e3\u6c7a\u3057\u305f\u3082\u306e\u3092\u524a\u9664\u3057\u3088\u3046\u3068\u3057\u3066\u3044\u307e\u3059":"\u60a9\u307f\u4e2d\u306e\u3082\u306e\u3092\u524a\u9664\u3057\u3088\u3046\u3068\u3057\u3066\u3044\u307e\u3059"),n.a.createElement(Ie.a,null,n.a.createElement(Ae.a,{id:"alert-dialog-description"},"\u524a\u9664\u3057\u3066\u3082\u3088\u308d\u3057\u3044\u3067\u3059\u304b\uff1f")),n.a.createElement(Pe.a,null,n.a.createElement(Re.a,{onClick:this.deleteDialogClose,color:"primary"},"\u30ad\u30e3\u30f3\u30bb\u30eb"),n.a.createElement(Re.a,{onClick:this.listDelete,color:"primary",autoFocus:!0},"OK"))))}}]),a}(n.a.Component),Be=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{className:"notify-wrapper"},n.a.createElement("div",{className:"notify"},n.a.createElement("img",{alt:"Notify",className:"notify-icon",src:"/icon/moyamoya.svg"}),n.a.createElement("p",{className:"notify-text"},"\u60a9\u307f\u30bf\u30a4\u30c8\u30eb")),n.a.createElement("p",{className:"notify-contect"},"\u25cb\u25cb\u3055\u3093\u304c\u3042\u306a\u305f\u3068\u540c\u3058\u60a9\u307f\u3092\u6301\u3063\u3066\u3044\u307e\u3059"))}}]),a}(n.a.Component),He=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).state={searchLists:[],todolists:s.props.todolists,searchWord:s.props.searchTest||"",isSearch:!0,isHome:!1},s.filterSearchWord=s.filterSearchWord.bind(Object(d.a)(s)),s}return Object(l.a)(a,[{key:"filterSearchWord",value:function(e){var t=this,a=e.target.value;this.setState({searchWord:a},(function(){t.searchDisplay(t.state.searchWord)}))}},{key:"searchDisplay",value:function(e){if(""!==e){var t=this.props.todolists&&this.props.todolists.filter((function(t){return t.title&&-1!==t.title.toString().toLowerCase().indexOf(e.toLowerCase())||t.tag[0].name&&-1!==t.tag[0].name.toString().toLowerCase().indexOf(e.toLowerCase())||t.worry.blocks[0].data.text&&-1!==t.worry.blocks[0].data.text.toString().toLowerCase().indexOf(e.toLowerCase())}));this.setState({searchLists:t})}}},{key:"render",value:function(){var e,t=this;return e=""===this.state.searchWord?n.a.createElement("div",{className:"search-wrapper"},n.a.createElement("img",{className:"search-image",src:"/icon/Search_unDraw.svg",alt:"Search"}),n.a.createElement("div",{className:"search-text-wrapper"},n.a.createElement("p",{className:"search-text"},"\u540c\u3058\u60a9\u307f\u3092\u62b1\u3048\u3066\u3044\u308b\u4eba\u304c\u3044\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093"),n.a.createElement("p",{className:"search-text"},"\u691c\u7d22\u3057\u3066\u307f\u307e\u3057\u3087\u3046\uff01"))):n.a.createElement($,{actionMethod:this.props.actionMethod,todolists:this.state.searchLists,isSearch:this.state.isSearch}),n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"search-form-wrapper"},n.a.createElement("form",{className:"search-form"},n.a.createElement("input",{value:this.state.searchWord,className:"search-input input-area",onChange:function(e){return t.filterSearchWord(e)},placeholder:"\u691c\u7d22"}))),e)}}]),a}(n.a.Component),Ve=a(197),Je=a.n(Ve),Qe=(a(288),a(330)),qe=a(324),Ke=a(300),$e=x.a.create({baseURL:"https://troument-api.net"}),Ye=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).worryListDisplay=function(){var e=s.state.todolists&&s.state.todolists.filter((function(e){return!1===e.status}));s.setState({resultLists:e,searchLists:e,isActive:0})},s.sendPicToS3=function(){var e=h.LoggedUser();s.setState({username:e});var t=new FormData;t.append("Files",s.state.croppedImageUrl),t.append("username",s.state.username),$e.post("/api/files",t).then((function(e){s.setState((function(e){return{thumbnail:s.state.croppedImageUrl}}),(function(){return s.handleReload()}))})),s.setState({isPicOpen:!1})},s.onSelectFile=function(e){if(e.target.files&&e.target.files.length>0){var t=new FileReader;t.addEventListener("load",(function(){return s.setState((function(e){return{src:t.result,isPicOpen:!0}}))})),t.readAsDataURL(e.target.files[0])}},s.onImageLoaded=function(e){s.imageRef=e},s.onCropComplete=function(e){s.makeClientCrop(e)},s.onCropChange=function(e,t,a){s.setState({crop:e})},s.canSendPic=function(){s.setState({isPicOpen:!1})},s.state={searchWord:"",searchLists:[],resultLists:[],todolists:[],worryCount:[],resolveCount:[],isActive:0,open:!1,files:[],userInfo:s.props.userinfo,isMypage:!0,alltodolists:s.props.todolists,src:null,crop:{unit:"%",width:30,aspect:16/9}},s.worryListDisplay=s.worryListDisplay.bind(Object(d.a)(s)),s.resolveListDisplay=s.resolveListDisplay.bind(Object(d.a)(s)),s.usefulListDisplay=s.usefulListDisplay.bind(Object(d.a)(s)),s.getMypageTodolists=s.getMypageTodolists.bind(Object(d.a)(s)),s.filterSearchWord=s.filterSearchWord.bind(Object(d.a)(s)),s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.getTodoListCount()}},{key:"getTodoListCount",value:function(){var e,t,a;return u.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,u.a.awrap(this.getMypageTodolists());case 2:e=this.state.todolists&&this.state.todolists.filter((function(e){return!1===e.status})),t=this.state.todolists&&this.state.todolists.filter((function(e){return!0===e.status})),a=this.state.todolists&&this.state.todolists.filter((function(e){return!1===e.status})),this.setState({worryCount:e,resolveCount:t,goodCount:this.state.goodlist.length||0,resultLists:a,searchLists:a});case 6:case"end":return s.stop()}}),null,this,null,Promise)}},{key:"getMypageTodolists",value:function(){var e,t,a=this;return u.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return e=h.LoggedUser(),this.setState({username:e}),t={username:e},s.next=5,u.a.awrap($e.get("/api/mygoodinfo",{params:t}).then((function(e){a.setState((function(t){return{goodlist:e.data}}))})).catch((function(e){console.error(new Error(e))})));case 5:return s.next=7,u.a.awrap($e.get("/api/userinfo",{params:t}).then((function(e){a.setState((function(t){return{thumbnail:e.data.thumbnail}}))})).catch((function(e){console.error(new Error(e))})));case 7:return s.next=9,u.a.awrap($e.get("/api/mypage",{params:t}).then((function(e){a.setState((function(t){return{todolists:e.data.reverse()}}))})).catch((function(e){console.error(new Error(e))})));case 9:case"end":return s.stop()}}),null,this,null,Promise)}},{key:"resolveListDisplay",value:function(){var e=this.state.todolists&&this.state.todolists.filter((function(e){return!0===e.status}));this.setState({resultLists:e,searchLists:e,isActive:1})}},{key:"usefulListDisplay",value:function(){this.state.goodlist?this.setState({resultLists:this.state.goodlist,searchLists:this.state.goodlist,isActive:2}):this.setState({resultLists:[],isActive:2})}},{key:"makeClientCrop",value:function(e){var t;return u.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(!(this.imageRef&&e.width&&e.height)){a.next=5;break}return a.next=3,u.a.awrap(this.getCroppedImg(this.imageRef,e,this.state.username));case 3:t=a.sent,this.setState({croppedImageUrl:t});case 5:case"end":return a.stop()}}),null,this,null,Promise)}},{key:"getCroppedImg",value:function(e,t,a){var s=this,n=document.createElement("canvas"),o=e.naturalWidth/e.width,i=e.naturalHeight/e.height;return n.width=t.width,n.height=t.height,n.getContext("2d").drawImage(e,t.x*o,t.y*i,t.width*o,t.height*i,0,0,t.width,t.height),new Promise((function(e,t){n.toBlob((function(t){t?(t.name=a,window.URL.revokeObjectURL(s.fileUrl),s.fileUrl=window.URL.createObjectURL(t),e(t)):console.error("Canvas is empty")}),"image/png")}))}},{key:"handleReload",value:function(){this.props.getTodolists(),this.getTodoListCount()}},{key:"filterSearchWord",value:function(e){var t=this,a=e.target.value;this.setState({searchWord:a},(function(){t.searchDisplay(t.state.searchWord)}))}},{key:"searchDisplay",value:function(e){if(""!==e){var t=this.state.resultLists&&this.state.resultLists.filter((function(t){return t.title&&-1!==t.title.toString().toLowerCase().indexOf(e.toLowerCase())||t.tag[0].name&&-1!==t.tag[0].name.toString().toLowerCase().indexOf(e.toLowerCase())||t.worry.blocks[0].data.text&&-1!==t.worry.blocks[0].data.text.toString().toLowerCase().indexOf(e.toLowerCase())||t.resolve&&-1!==t.resolve.blocks[0].data.text.toString().toLowerCase().indexOf(e.toLowerCase())}));this.setState({searchLists:t})}else this.setState({searchLists:this.state.resultLists})}},{key:"render",value:function(){var e=this,t=this.state,a=t.crop,s=t.src;return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"profile-wrapper"},n.a.createElement("div",{className:"profile-header"},n.a.createElement("div",{className:"profile"},n.a.createElement("label",{className:"sample"},n.a.createElement(H.a,{size:"50px",round:"10px",alt:"PROFILE",src:"https://troument.s3-ap-northeast-1.amazonaws.com/"+this.state.thumbnail}),n.a.createElement("input",{type:"file",accept:"image/*",onChange:this.onSelectFile})),n.a.createElement("p",{className:"profile_name"},this.state.username)),n.a.createElement("div",{className:"profile-count"},n.a.createElement("ul",{className:"count-lists"},n.a.createElement("li",{className:"count-list"},n.a.createElement("p",{className:"count-list-number"},this.state.worryCount.length),n.a.createElement("p",{className:"count-list-text"},"\u60a9\u307f\u4e2d")),n.a.createElement("li",{className:"count-list"},n.a.createElement("p",{className:"count-list-number"},this.state.resolveCount.length),n.a.createElement("p",{className:"count-list-text"},"\u89e3\u6c7a\u6e08")),n.a.createElement("li",{className:"count-list"},n.a.createElement("p",{className:"count-list-number"},this.state.goodCount),n.a.createElement("p",{className:"count-list-text"},"\u30b9\u30b3\u30a2"))))),n.a.createElement(Qe.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",open:this.state.isPicOpen,onClose:this.CliskcPicClose,closeAfterTransition:!0,BackdropComponent:qe.a,BackdropProps:{timeout:500}},n.a.createElement(Ke.a,{in:this.state.isPicOpen},n.a.createElement("div",{className:"modal"},s&&n.a.createElement(Je.a,{src:s,crop:a,ruleOfThirds:!0,onImageLoaded:this.onImageLoaded,onComplete:this.onCropComplete,onChange:this.onCropChange}),n.a.createElement("div",{className:"button-wrapper crop-button"},n.a.createElement("button",{className:"button",onClick:this.canSendPic},"\u30ad\u30e3\u30f3\u30bb\u30eb"),n.a.createElement("button",{className:"button",onClick:this.sendPicToS3},"\u6c7a\u5b9a"))))),n.a.createElement("div",{className:"lists"},n.a.createElement("button",{className:"listbutton "+(0===this.state.isActive?"active":"")},n.a.createElement("span",{onClick:this.worryListDisplay,className:"list worry-list"},"\u60a9\u307f\u4e00\u89a7")),n.a.createElement("button",{className:"listbutton "+(1===this.state.isActive?"active":"")},n.a.createElement("span",{onClick:this.resolveListDisplay,className:"list resolve-list"},"\u89e3\u6c7a\u6e08\u4e00\u89a7")),n.a.createElement("button",{className:"listbutton "+(2===this.state.isActive?"active":"")},n.a.createElement("span",{onClick:this.usefulListDisplay,className:"list useful-list"},"\u5f79\u7acb\u3061\u4e00\u89a7")))),n.a.createElement("div",{className:"display-title-wrapper"},n.a.createElement("div",{className:"search-form-wrapper mypage-search"},n.a.createElement("form",{className:"search-form"},n.a.createElement("input",{onChange:function(t){return e.filterSearchWord(t)},value:this.state.searchWord,className:"search-input input-area",placeholder:"\u691c\u7d22"}))),0!==this.state.resultLists.length?n.a.createElement($,{todolists:this.state.searchLists,actionMethod:this.props.actionMethod,isMypage:this.state.isMypage}):n.a.createElement("p",{className:"mypage-contents-wrappers mypage-no-data"},"\u30c7\u30fc\u30bf\u304c\u5b58\u5728\u3057\u307e\u305b\u3093")))}}]),a}(n.a.Component),Ze=a(329),Xe=x.a.create({baseURL:"https://troument-api.net"}),et=function(e){Object(c.a)(s,e);var t=Object(m.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).postFormOpen=function(){a.setState({isFormOpen:!0,isResolveFormOpen:!1,isUpdateFormOpen:!1,isOpenDetail:!1})},a.handleOpen=function(){a.setState({setOpen:!0})},a.handleClose=function(){a.setState({setOpen:!1})},a.state={isFormOpen:!1,isResolveFormOpen:!1,todolists:[]||!1,userinfo:[]||!1,isOpenDetail:!1,popover:!1,isGood:!1,loading:!1,isHome:!0},a.clickFormClose=a.clickFormClose.bind(Object(d.a)(a)),a.handleWorryAdd=a.handleWorryAdd.bind(Object(d.a)(a)),a.handleResolveAdd=a.handleResolveAdd.bind(Object(d.a)(a)),a.displayDetail=a.displayDetail.bind(Object(d.a)(a)),a.handleWorryUpdate=a.handleWorryUpdate.bind(Object(d.a)(a)),a.handleResolveUpdate=a.handleResolveUpdate.bind(Object(d.a)(a)),a.handleTodolistsDelete=a.handleTodolistsDelete.bind(Object(d.a)(a)),a.createTime=a.createTime.bind(Object(d.a)(a)),a.handleGoodCount=a.handleGoodCount.bind(Object(d.a)(a)),a.gooStatusCheck=a.gooStatusCheck.bind(Object(d.a)(a)),a.getTodolists=a.getTodolists.bind(Object(d.a)(a)),a.updateFormOpen=a.updateFormOpen.bind(Object(d.a)(a)),a.resolveFormOpen=a.resolveFormOpen.bind(Object(d.a)(a)),a}return Object(l.a)(s,[{key:"componentDidMount",value:function(){this.getTodolists(),this.getUserinfo()}},{key:"getTodolists",value:function(){var e=this,t=h.LoggedUser();this.setState({login_user:t}),Xe.get("/api/display").then((function(t){e.setState((function(e){return{todolists:t.data.reverse(),loading:!0}}))})).catch((function(e){console.error(new Error(e))}))}},{key:"getUserinfo",value:function(){var e=this,t={username:h.LoggedUser()};Xe.get("/api/userinfo",{params:t}).then((function(t){e.setState((function(e){return{userinfo:t.data,loading:!0}}))})).catch((function(e){console.error(new Error(e))}))}},{key:"handleWorryAdd",value:function(e,t,s){var n,o,i,r,l=this;return u.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:this.setState((function(e){return{loading:!1}})),n=this.createTime(),this.clickFormClose(),o=a(289),i=o.generate(),r={username:this.state.userinfo.user_name,title:e,tag:t,worry:s,resolve:"",site:"",status:!1,time:n,worry_id:i},Xe.post("/api/worryadd",{list:r}).then((function(e){e.data.user=l.state.userinfo,l.state.todolists.unshift(e.data),l.setState((function(e){return{todolists:l.state.todolists,loading:!0}}))})).catch((function(e){console.error(new Error(e))}));case 7:case"end":return c.stop()}}),null,this,null,Promise)}},{key:"handleResolveAdd",value:function(e){var t,a,s=this;return u.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t=this.createTime(),n.next=3,u.a.awrap(this.handleTodolistsDelete(this.state.detail_todolist.worry_id));case 3:(a=this.state.detail_todolist).resolve=e,a.status=!0,a.time=t,this.state.todolists.unshift(a),this.setState((function(e){return{todolists:s.state.todolists}})),Xe.put("/api/resolveadd",{resolve:e,worry_id:this.state.detail_todolist.worry_id,status:!0,time:t}).then((function(e){})).catch((function(e){console.error(new Error(e))})),this.clickFormClose();case 11:case"end":return n.stop()}}),null,this,null,Promise)}},{key:"handleTodolistsDelete",value:function(e){var t;return u.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:t=this.state.todolists.filter((function(t){return t.worry_id!==e})),this.setState({todolists:t});case 2:case"end":return a.stop()}}),null,this,null,Promise)}},{key:"handleWorryUpdate",value:function(e,t,a){var s,n,o=this;return u.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return s=this.createTime(),i.next=3,u.a.awrap(this.handleTodolistsDelete(this.state.detail_todolist.worry_id));case 3:(n=this.state.detail_todolist).title=e,n.tag=t,n.worry=a,n.time=s,this.state.todolists.unshift(n),this.setState((function(e){return{todolists:o.state.todolists}})),Xe.post("/api/listupdate",{detail_todolist:this.state.detail_todolist}).then((function(e){})).catch((function(e){console.error(new Error(e))})),this.clickFormClose();case 12:case"end":return i.stop()}}),null,this,null,Promise)}},{key:"handleResolveUpdate",value:function(e){var t,a,s=this;return u.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t=this.createTime(),n.next=3,u.a.awrap(this.handleTodolistsDelete(this.state.detail_todolist.worry_id));case 3:(a=this.state.detail_todolist).resolve=e,a.time=t,this.state.todolists.unshift(a),this.setState((function(e){return{todolists:s.state.todolists}})),Xe.post("/api/listupdate",{detail_todolist:this.state.detail_todolist}).then((function(e){})).catch((function(e){console.error(new Error(e))})),this.clickFormClose();case 10:case"end":return n.stop()}}),null,this,null,Promise)}},{key:"displayDetail",value:function(e){var t=this.state.todolists.filter((function(t){return t.worry_id===e}));this.setState({isOpenDetail:!0,detail_todolist:t[0]})}},{key:"resolveFormOpen",value:function(){this.setState({isResolveFormOpen:!0,isFormOpen:!0})}},{key:"clickFormClose",value:function(){this.setState({isResolveFormOpen:!1,isUpdateFormOpen:!1,isOpenDetail:!1,isFormOpen:!1,pop_open:!0})}},{key:"updateFormOpen",value:function(){this.setState({isFormOpen:!0,isUpdateFormOpen:!0})}},{key:"createTime",value:function(e){return e?new Date(e).toLocaleString():new Date}},{key:"handleGoodCount",value:function(e,t){this.gooStatusCheck(e,t)}},{key:"gooStatusCheck",value:function(e,t){return u.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:t?this.goodDeleteCheck(e):this.goodAddCheck(e);case 1:case"end":return a.stop()}}),null,this,null,Promise)}},{key:"goodAddCheck",value:function(e){var t,a;return u.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:t=[],(t=this.state.detail_todolist).count=t.count+1,t.user.goodlist.push(e),this.setState((function(e){return{detail_todolist:t}})),a={_id:e,username:this.state.login_user,count:this.state.detail_todolist.count},Xe.get("/api/goodadd",{params:a}).then((function(e){})).catch((function(e){console.error(new Error(e))}));case 7:case"end":return s.stop()}}),null,this,null,Promise)}},{key:"goodDeleteCheck",value:function(e){var t,a,s;return u.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:t=[],(t=this.state.detail_todolist).count=t.count-1,a=this.state.detail_todolist.user.goodlist.findIndex((function(t){return t===e})),t.user.goodlist.splice(a,1),this.setState((function(e){return{detail_todolist:t}})),s={_id:e,username:this.state.login_user,count:this.state.detail_todolist.count},Xe.get("/api/gooddelete",{params:s}).then((function(e){})).catch((function(e){console.error(new Error(e))}));case 8:case"end":return n.stop()}}),null,this,null,Promise)}},{key:"render",value:function(){var e,t=this,a={handleResolveAdd:this.handleResolveAdd,handleWorryUpdate:this.handleWorryUpdate,handleResolveUpdate:this.handleResolveUpdate,handleTodolistsDelete:this.handleTodolistsDelete,clickFormClose:this.clickFormClose,postFormOpen:this.postFormOpen,createTime:this.createTime,handleGoodCount:this.handleGoodCount,goodAddCheck:this.goodAddCheck,goodDeleteCheck:this.goodDeleteCheck,displayDetail:this.displayDetail,handleWorryAdd:this.handleWorryAdd,updateFormOpen:this.updateFormOpen,resolveFormOpen:this.resolveFormOpen};return e=this.state.isFormOpen?this.state.isOpenDetail?n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"display-title-wrapper"},n.a.createElement($,Object.assign({},this.props,{isOpenDetail:this.state.isOpenDetail,isGood:this.state.isGood,detail_todolist:this.state.detail_todolist,isUpdateFormOpen:this.state.isUpdateFormOpen,deleteDialogOpen:this.deleteDialogOpen,actionMethod:a,userinfo:this.state.userinfo,_id:this.state.detail_todolist._id})),n.a.createElement(Ue,{isUpdateFormOpen:this.state.isUpdateFormOpen,detail_todolist:this.state.detail_todolist,isOpenDetail:this.state.isOpenDetail,actionMethod:a,isFormOpen:this.state.isFormOpen,isResolveFormOpen:this.state.isResolveFormOpen,handleClose:this.handleClose,handleOpen:this.handleOpen}))):n.a.createElement(Ue,{isOpenDetail:this.state.isOpenDetail,login_user:this.state.login_user,actionMethod:a,handleClose:this.handleClose,handleOpen:this.handleOpen}):this.state.isOpenDetail?n.a.createElement(ze,{todolists:this.state.todolists,userinfo:this.state.userinfo,detail_todolist:this.state.detail_todolist,count:this.state.count,login_user:this.state.login_user,isOpenDetail:this.state.isOpenDetail,actionMethod:a}):this.state.loading&&this.state.isHome?n.a.createElement("div",{className:"display-title-wrapper"},n.a.createElement($,{todolists:this.state.todolists,userinfo:this.state.userinfo,actionMethod:a})):n.a.createElement(Ze.a,null),n.a.createElement(g.a,null,n.a.createElement(I,null,n.a.createElement(v.d,null,n.a.createElement(v.b,{exact:!0,path:"/"},e,n.a.createElement(Qe.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",open:this.state.setOpen,onClose:this.handleClose,className:"modal1",closeAfterTransition:!0,BackdropComponent:qe.a,BackdropProps:{timeout:500}},n.a.createElement(Ke.a,{in:this.state.setOpen},n.a.createElement("div",{className:"paper"},n.a.createElement("img",{className:"pop-icon",src:"/image/paperplane.svg",alt:"\u7d19\u98db\u884c\u6a5f"}),n.a.createElement("div",{className:"pop-message"},"\u6295\u7a3f\u304c\u5b8c\u4e86\u3057\u307e\u3057\u305f\uff01"))))),n.a.createElement(v.b,{exact:!0,path:"/Search",render:function(e){return n.a.createElement(He,{todolists:t.state.todolists,loginuser:t.state.username,actionMethod:a})}}),n.a.createElement(v.b,{exact:!0,path:"/Notify"},n.a.createElement(Be,null)),n.a.createElement(v.b,{exact:!0,path:"/Mypage",render:function(e){return n.a.createElement(Ye,{getTodolists:t.getTodolists,getUserinfo:t.getUserinfo,userinfo:t.state.userinfo,todolists:t.state.todolists,loginuser:t.state.login_user,actionMethod:a})}}))),n.a.createElement(A,{clickFormClose:this.clickFormClose,postFormOpen:this.postFormOpen,SearchList:this.SearchList,todolists:this.state.todolists}))}}]),s}(n.a.Component),tt=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return n.a.createElement(g.a,null,n.a.createElement(y,null),n.a.createElement(v.d,null,n.a.createElement(v.b,{exact:!0,path:"/Toppage"},n.a.createElement(O,null)),n.a.createElement(v.b,{exact:!0,path:"/Register"},n.a.createElement(F,null)),n.a.createElement(v.b,{exact:!0,path:"/Login"},n.a.createElement(P,null)),n.a.createElement(I,null,n.a.createElement(v.d,null,n.a.createElement(v.b,{path:"/"},n.a.createElement(et,null))))))}}]),a}(n.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(n.a.createElement(tt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},55:function(e,t,a){},90:function(e,t,a){}},[[202,1,2]]]);
//# sourceMappingURL=main.2be8e654.chunk.js.map